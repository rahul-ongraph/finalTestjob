(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,b=f?f("A2IDPXUILogger@logger","A2IDPXUILogger"):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,f){(function(){d.register("A2IDPXCSMLogger",function(){function b(){a=e.ue}var a=null;b.prototype.logCount=function(c){a&&(c?a.count(c,(a.count(c)||0)+1):console.warn("Invalid refTag passed to logger refTag : "+c))};return b})})();(function(){d.when("A").register("A2IDPXCustomMetricLogger",
function(b){function a(){}a.prototype.log=function(a){a?b.get(a):console.warn("Invalid URL passed to logger URL : "+a)};return a})})();(function(){d.when("A").register("A2IDPXURLHelper",function(b){return{appendRefTagPlaceHolder:function(a){return a.concat("ref\x3d").concat("${refTag}")},updateRefTagPlaceHolder:function(a,c){return a&&c?a.replace("${refTag}",c):a},appendParams:function(a,c){var d=-1===a.indexOf("?")?!1:!0;b.objectIsEmpty(c)||Object.keys(c).forEach(function(b){d?a=a.concat("\x26").concat(b).concat("\x3d").concat(c[b]):
(a=a.concat("?").concat(b).concat("\x3d").concat(c[b]),d=!0)});return a}}})})();(function(){d.when("A2IDPXCSMLogger","A2IDPXCustomMetricLogger","A2IDPXURLHelper").register("A2IDPXUILoggerService",function(b,a,c){b=new b;var d=new a,e=null;return{initialize:function(a){a&&(e=a.serverSideMetricURL||"/gp/product/ajax/dpx-metrics-handler.html/",e=c.appendParams(c.appendRefTagPlaceHolder(e),a.defaultServerSideParams))},logMetric:function(a,f){b.logCount(a);e&&(a=c.updateRefTagPlaceHolder(e,a),d.log(c.appendParams(a,
f)))}}})})()});
/* ******** */
(function(l){var t=window.AmazonUIPageJS||window.P,m=t._namespace||t.attributeErrors,e=m?m("BuyBackAssets",""):t;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,t,m){l.when("A","atf").register("buyBackConstants",function(e){return{vsxConstants:{EXECUTING_FEATURE_NAME_VSX:"vsx",DEVICE_BRAND:"brand",DEVICE_MODEL:"model"},common:{EMPTY_STRING:"",EMPTY_SPACE_STRING:" ",POST:"post",DELIMITER:"_",DEVICE_TYPE:"Desktop",BUYBACK_MOBILE:"Mobile"},action:{CHANGE:"change",
BUYBACK_LAST_DROPDOWN_SELECTED:"buyback-last-dropdown-selected",APPLY_EXCHANGE_BUTTON_CLICKED:"apply-exchange-button-selected",APPLY_EXCHANGE_BUTTON_EXECUTION:"apply-exchange-button-execution",SHOW_BUYBACK_IMEI_DISPLAY_SECTION:"show-buyback-imei-display-section",UPDATE_BUYBACK_MODAL_HEIGHT:"update-buyback-modal-height",BUYBACK_OFFER_SUCCESSFULLY_APPLIED:"buyback-offer-successfully-applied",SET_PRICE_WITH_BUYBACK_OFFER:"set-price-with-buyback-offer",SHOW_BUYBACK_POST_OFFER_SELECTION_EXPERIENCE:"show-buyback-post-offer-selection-experience",
SHOW_BUYBACK_IMEI_CONTENT:"show-buyback-imei-content",HIDE_BUYBACK_IMEI_CONTENT:"hide-buyback-imei-content",SET_PRICE_WITH_VALUE_COMMENSURATE_OFFER:"set-price-with-buyback-offer-in-imei",TRIGGER_IMAGE_LOAD:"a:image:lazyLoad",PAGE_UPDATE:"a:pageUpdate",RESET_ACCORDION_CONTENT:"reset-accordion-content",UNLOAD_PAGE:"beforeunload"},cssClass:{HIDE:"hide",SHOW:"show"},RTLAErrorStatus:{FATAL:"FATAL",ERROR:"ERROR",WARN:"WARN"},selectors:{BUYBACK_OFFER_SECONDARY_VIEW_ID:"#buyback-offer-secondary-view",AUI_PAGE_STATE_SCRIPT_TAG:"script[type\x3da-state]",
MODAL_RIGHT_COLUMN:"rightColumn",MODAL_LEFT_COLUMN:"leftColumn",MODAL_LEFT_COLUMN_CONTENT:"leftColumnContent",SERVICE_FAILED_ALERT:"buyBackServiceFailedAlert",DEVICE_CHECK_NOTE_2:"buybackDeviceCheckNote2",DROP_DOWN_0:"buyBackDropDown0"}}});l.when("A","atf").register("valueCommensurateConstants",function(e){return{action:{VALUE_COMMENSURATE_BUCKET_SELECTED:"value-commensurate-bucket-selected",VALUE_COMMENSURATE_TEMPLATE_RENDERED:"value-commensurate-template-rendered",INITIALISE_VALUE_COMMENSURATE_DATA:"initialise-value-commensurate-data"},
cssClass:{TOGGLE_OFF:"buyback-valueCommensurate-selectionTable-toggleOff",TOGGLE_ON:"buyback-valueCommensurate-selectionTable-toggleOn"},selector:{COLUMN:"Column",DISCOUNT_PRICE:"valueCommensurateDiscountPrice",DISCOUNT_PRICE_INSIDE_ACCORDION:"valueCommensurateDiscountPriceInsideAccordion",DISCOUNT_PRICE_INSIDE_ACCORDION_TEXT:"valueCommensurateOfferAppliedInAccordionSuccessText",SPONSOR_DISCOUNT:"buyBackValueCommensurateSponsorDiscount",SPONSOR_DISCOUNT_TEXT:"buyBackValueCommensurateSponsoredDiscountText",
OFFER_APPLIED_SUCCESS:"valueCommensurateOfferAppliedSuccess",OFFER_APPLIED_SUCCESS_TEXT:"valueCommensurateOfferAppliedSuccessText"},common:{RENDER_MANUAL_BUCKET_TEMPLATES_URL:"/md/renderValueCommensurateManualTemplate",SAVE_VALUE_COMMENSURATE_CUSTOMER_DATA_URL:"/md/saveValueCommensurateCustomerData",TEMPLATE_INGRESS_ID:"buyBackValueCommensurateIngress",HAS_VALUE_COMMENSURATE_OFFERS:"hasValueCommensurateOffers",CAMPAIGN_ID:"campaignId",VALUE_COMMENSURATE_OFFER_LOADER_ID:"valueCommensurateOfferLoaderSpinner",
BASE_BUYBACK_DISCOUNT_REDUCTION_PERCENTAGE:.9},metricName:{RENDER_MANUAL_BUCKET_TEMPLATES_SUCCESS:"BuyBack:ValueCommensurate:RendereManualBucketTemplate:Success:Desktop",RENDER_MANUAL_BUCKET_TEMPLATES_FAILURE:"BuyBack:ValueCommensurate:RendereManualBucketTemplate:Failure:Desktop",SAVE_VALUE_COMMENSURATE_CUSTOMER_DATA_SUCCESS:"BuyBack:ValueCommensurate:SaveCustomerData:Success:Desktop",SAVE_VALUE_COMMENSURATE_CUSTOMER_DATA_FAILURE:"BuyBack:ValueCommensurate:SaveCustomerData:Failure:Desktop",RENDER_MANUAL_BUCKET_TEMPLATES_TIME:"BuyBack:ValueCommensurate:RendereManualBucketTemplate:Time:Desktop"}}});
l.when("A").register("weblabConstants",function(e){return{treatment:{T1:"T1",C:"C"}}});l.when("A","valueCommensurateUtils","buyBackConstants","valueCommensurateConstants","Logger","bbMetric","buyback-util","atf").register("valueCommensurateHandler",function(e,n,g,b,p,c,h){function v(){p.log("initialiseData");F={};G={};C.empty();I=D=J=E=null;H=!1;z=null}function K(a){a?M[0]===m&&E.toLowerCase()===d.BUYBACK_MOBILE.toLowerCase()&&N.addClass(q.HIDE):M[0]===m&&E.toLowerCase()===d.BUYBACK_MOBILE.toLowerCase()&&
N.removeClass(q.HIDE)}var a=e.$,r=g.action,d=g.common,q=g.cssClass,A=g.selectors,x=b.action,w=b.common,l=b.metricName,t=b.selector,C=a("#"+w.TEMPLATE_INGRESS_ID),y=a("#"+w.VALUE_COMMENSURATE_OFFER_LOADER_ID),N=a("#"+A.DEVICE_CHECK_NOTE_2),M=a("#"+A.DROP_DOWN_0),F={},G={},J,E,D,I,H=!1,z;e.on(r.BUYBACK_LAST_DROPDOWN_SELECTED,function(a){p.log(r.BUYBACK_LAST_DROPDOWN_SELECTED);y.removeClass(q.HIDE).addClass(q.SHOW);v();E=a.buyBackCategory;J=a.buyBackItemId;I=a.requestId;c.startTimer(l.RENDER_MANUAL_BUCKET_TEMPLATES_TIME);
n.renderValueCommensurateManualBucketTemplates(a);c.stopTimer(l.RENDER_MANUAL_BUCKET_TEMPLATES_TIME)});e.on(x.VALUE_COMMENSURATE_TEMPLATE_RENDERED,function(a){p.log(x.VALUE_COMMENSURATE_TEMPLATE_RENDERED);y.removeClass(q.SHOW).addClass(q.HIDE);h.hide(A.SERVICE_FAILED_ALERT);e.trigger(r.UPDATE_BUYBACK_MODAL_HEIGHT);var d=a.html;a.loadedSuccessfully?(C.html(d),e.trigger(r.TRIGGER_IMAGE_LOAD),a=C[0].querySelector("#"+w.HAS_VALUE_COMMENSURATE_OFFERS),(H=JSON.parse(a.value))?(K(!0),D=C[0].querySelector("#"+
w.CAMPAIGN_ID).value):(K(!1),e.trigger(r.BUYBACK_OFFER_SUCCESSFULLY_APPLIED,{hasValueCommensurateOffers:!1}))):h.show(A.SERVICE_FAILED_ALERT)});e.declarative(x.VALUE_COMMENSURATE_BUCKET_SELECTED,r.CHANGE,function(d){p.log(x.VALUE_COMMENSURATE_BUCKET_SELECTED);var b=d.data;d=b.bucket;var q=b.lineItem;z=b.value;F.hasOwnProperty(d)&&n.toggleOff(F[d]);b=a("#"+(q+t.COLUMN));F[d]=b;n.toggleOn(b);G[d]=q;d={};d.valueCommensurateTotalDiscount=z;d.hasValueCommensurateOffers=!0;e.trigger(r.BUYBACK_OFFER_SUCCESSFULLY_APPLIED,
d);e.trigger(r.RESET_ACCORDION_CONTENT)});e.on(r.APPLY_EXCHANGE_BUTTON_CLICKED,function(){p.log(r.APPLY_EXCHANGE_BUTTON_CLICKED);var a={};if(H){var d=[],b;for(b in G)d.push(G[b]);n.saveValueCommensurateCustomerData({buyBackItemId:J,buyBackCategory:E,requestId:I,campaignId:D,listOfManualDefects:d});a.hasValueCommensurateOffers=!0;a.valueCommensurateTotalDiscount=z}else a.hasValueCommensurateOffers=!1;e.trigger(r.APPLY_EXCHANGE_BUTTON_EXECUTION,a)});e.on(r.SET_PRICE_WITH_VALUE_COMMENSURATE_OFFER,function(){p.log(r.SET_PRICE_WITH_VALUE_COMMENSURATE_OFFER);
var a={};H?(a.hasValueCommensurateOffers=!0,a.valueCommensurateTotalDiscount=z):a.hasValueCommensurateOffers=!1;e.trigger(r.SET_PRICE_WITH_BUYBACK_OFFER,a)});e.on(x.INITIALISE_VALUE_COMMENSURATE_DATA,function(){p.log(x.INITIALISE_VALUE_COMMENSURATE_DATA);v()});e.on(r.PAGE_UPDATE,function(){p.log(r.PAGE_UPDATE);C=a("#"+w.TEMPLATE_INGRESS_ID);y=a("#"+w.VALUE_COMMENSURATE_OFFER_LOADER_ID);N=a("#"+A.DEVICE_CHECK_NOTE_2);M=a("#"+A.DROP_DOWN_0)})});"use strict";l.when("A").register("bbg-atc-handler-component",
function(e){var n=!1;return{setBbgAddToCartApiCalled:function(e){n=e},isBbgAddToCartApiCalled:function(){return n}}});"use strict";l.when("A").register("bbMetric",function(e){var n=t.ue,g={};return{increment:function(b){"undefined"!==typeof n&&"undefined"!==typeof n.count&&b&&n.count(b,(n.count(b)||0)+1)},stopTimer:function(b){"function"===typeof t.uet&&g.hasOwnProperty(b)&&(delete g[b],t.uet("be",b,{wb:1}),t.uex("ld",b,{wb:1}))},startTimer:function(b){"function"!==typeof t.uet||g.hasOwnProperty(b)||
(g[b]=1,t.uet("bb",b,{wb:1}))},registerRefTag:function(b){e.$.get("/gp/product/ajax-handlers/reftag.html/ref\x3d"+b)}}});"use strict";l.when("A","BBPageStateHelper").register("BBPageState",function(e){e.on("a:pageUpdate",function(){e.trigger("a2i_dpx:buyback:processBBPageState")});return{_buyBackState:null,callBBPageState:!1,init:function(){e.state.parse();this._buyBackState=e.state("buyBackPageState")},get:function(){null===this._buyBackState&&this.init();return this._buyBackState},getUpdatedState:function(){e.state.parse();
return this._buyBackState=e.state("buyBackPageState")}}});l.when("A").register("buyBackPageStateStatic",function(e){});"use strict";l.when("A","a-dropdown","bb-first-dropdown","bbMetric").register("BBPageStateHelper",function(e,n,g,b){function p(c){var e="";c={type:"post",url:"/gp/product/features/buyback/buyBackOffersForCategory.html?"+h.param({encryptedMarketPlaceId:c.marketPlaceId,asin:c.asin,productPrice:c.productPrice,brand:c.brand,subCategoryName:c.subCategoryName,encryptedMerchantId:c.sellerId,
postalCode:c.buyBackPostalCode,buyBackCategory:"",rbnHierarchyNodes:c.categoryIdentifier}),async:!1,success:function(a){try{var c=JSON.parse(a)}catch(q){b.increment("BBPageStateHelper:fetchBuyBackExchangeItems:invalidResponse"),e=""}if("undefined"!==typeof c&&"SERVICE-SUCCESS"===c.status&&(e="",""!==c.BestBuyBackOffer&&null!==c.BestBuyBackOffer))try{var d=JSON.parse(c.BestBuyBackOffer);e=d.containedBuyBackProductNodes;b.increment("BBPageStateHelper:fetchBuyBackExchangeItems:success")}catch(q){b.increment("BBPageStateHelper:fetchBuyBackExchangeItems:invalidJSON"),
e=""}},error:function(){e="";b.increment("BBPageStateHelper:fetchBuyBackExchangeItems:failure")}};b.startTimer("BBPageStateHelper:ajax:fetchBuyBackExchangeItems");h.ajax(c);b.stopTimer("BBPageStateHelper:ajax:fetchBuyBackExchangeItems");return e}function c(){e.state.parse();var b=e.state("buyBackPageState");if(b&&b.hasValidBuyBackOffers&&"false"===b.crossCategoryOfferAvailable){var c=p(b);b.buyBackExchangeItems=c;e.state.replace("buyBackPageState",b);g.loadOptions(c)}}var h=e.$;c();return{lazyLoad:c}});
"use strict";l.when("A","bbMetric").register("buyback-suppress-addToCart",function(e,n){var g=e.$;return{hide:function(){g("#addToCart_feature_div").removeClass("show").addClass("hide");n.increment("AddToCartHandler:button:hide:count")},show:function(){g("#addToCart_feature_div").removeClass("hide").addClass("show");n.increment("AddToCartHandler:button:show:count")}}});"use strict";l.when("A","BBPageState","bbMetric").register("BuyBackFeeHandler",function(e,n,g){var b=e.$,p=null,c=!1,h=[];(n=n.getUpdatedState())&&
n.feeMap&&n.feeMap.map&&"object"===typeof n.feeMap.map&&"{}"!==JSON.stringify(n.feeMap.map)&&(p=n.feeMap.map);return{fetchFeeMap:function(n,m){if(p){if(m)try{m(p)}catch(a){g.increment("BuybackFeeHandler:Callback:Exception")}}else h.push(m),c||(c=!0,n="/gp/product/features/buyback/buyBackConvenienceFeeHandler.html?"+b.param({chargeKeyPrefix:n}),e.ajax(n,{method:"get",success:function(a){a&&(p=a.feeMap,e.each(h,function(a,d){if(a)try{a(p)}catch(q){g.increment("BuybackFeeHandler:Callback:Exception")}}),
h=[]);c=!1;g.increment("BuybackFeeHandler:FetchFeeAjaxCall:Success")},error:function(){g.increment("BuybackFeeHandler:FetchFeeAjaxCall:Failure");c=!1;h=[]}}))}}});"use strict";l.when("A","a-checkbox","a-modal","BBPageState","bbMetric","buyBackPageStateStatic").execute(function(e,n,g,b,p){function c(a,c){a=v("form\x3d[id\x3d"+c+"]");if(0===a.find('input[class^\x3d"bbgInputData"]').length){l=b.getUpdatedState();var d=l.bbgAsin,e=l.bbgAsinOfferingId,q=l.bbgOfferId,r=q+"-"+(new Date).getTime(),h=a.find("input[name^\x3d'offeringID']").length+
1;d='\x3cinput class\x3d"bbgInputData-'+c+'" type\x3d"hidden" id\x3d"asin.'+h+'" name\x3d"asin.'+h+'" value\x3d"'+d+'"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" type\x3d"hidden" id\x3d"quantity.'+h+'" name\x3d"quantity.'+h+'" value\x3d"1"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" type\x3d"hidden" id\x3d"offeringID.'+h+'" name\x3d"offeringID.'+h+'" value\x3d"'+e+'"\x3e';e=h+1;e='\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-name.'+e+'.1" name\x3d"custom-name.'+e+'.1" value\x3d"itemAssoc" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+
c+'" id\x3d"custom-value.'+e+'.1" name\x3d"custom-value.'+e+'.1" value\x3d"'+r+'" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-name.'+e+'.2" name\x3d"custom-name.'+e+'.2" value\x3d"itemAssocType" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-value.'+e+'.2" name\x3d"custom-value.'+e+'.2" value\x3d"BuyBackGuarantee" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-name.'+e+'.3" name\x3d"custom-name.'+e+'.3" value\x3d"bbgOfferingId" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+
c+'" id\x3d"custom-value.'+e+'.3" name\x3d"custom-value.'+e+'.3" value\x3d"'+q+'" type\x3d"hidden"\x3e';var g=a.find("input[name^\x3d'custom-name.1.']").length+1;c='\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-name.1.'+g+'" name\x3d"custom-name.1.'+g+'" value\x3d"itemAssoc" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-value.1.'+g+'" name\x3d"custom-value.1.'+g++ +'" value\x3d"'+r+'" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-name.1.'+
g+'" name\x3d"custom-name.1.'+g+'" value\x3d"UNIQ-itemAssoc" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-value.1.'+g+'" name\x3d"custom-value.1.'+g++ +'" value\x3d"'+r+'" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-name.1.'+g+'" name\x3d"custom-name.1.'+g+'" value\x3d"itemAssocType" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-value.1.'+g+'" name\x3d"custom-value.1.'+g++ +'" value\x3d"BuyBackGuarantee" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+
c+'" id\x3d"custom-name.1.'+g+'" name\x3d"custom-name.1.'+g+'" value\x3d"bbgOfferingId" type\x3d"hidden"\x3e\x3cinput class\x3d"bbgInputData-'+c+'" id\x3d"custom-value.1.'+g+'" name\x3d"custom-value.1.'+g++ +'" value\x3d"'+q+'" type\x3d"hidden"\x3e';c=d+e+c;q=a.find('input[name\x3d"itemCount"]');0===q.length?c+='\x3cinput type\x3d"hidden" name\x3d"itemCount" value\x3d"'+h+'"\x3e':q.value+=1;a.append(c)}}function h(){l=b.getUpdatedState();!0===l.isbbgOfferAvailable&&(v("[id^\x3d'bbg-checkbox-']").unbind("click").click(function(a){this.checked?
c(a,this.value):v(".bbgInputData-"+this.value).remove()}).each(function(){this.checked?c(event,this.value):v(".bbgInputData-"+this.value).remove()}),v("[id^\x3d'bbg-addButton-']").unbind("click").click(function(a){c(a,this.value);var d=n("#bbg-checkbox-"+this.value),b=g.get(v("#bbg-featureDiv-"+this.value));d.check();null!==b&&b.hide();a.preventDefault()}),v("[id^\x3d'bbg-skipButton-']").unbind("click").click(function(a){v(".bbgInputData-"+this.value).remove();var d=n("#bbg-checkbox-"+this.value),
b=g.get(v("#bbg-featureDiv-"+this.value));d.uncheck();null!==b&&b.hide();a.preventDefault()}),a.forEach(function(a){v(document).undelegate(a,"click.bbg");!0===l.isbbgOfferAvailable&&v(document).delegate(a,"click.bbg",{form:a},r)},a))}var v=e.$;b.init();var l=b.get(),a=["#add-to-cart-button","#buy-now-button","#buyBackBuyNowButton"],r=function(a){v(a.data.form).find('input[class^\x3d"bbgInputData"]')&&(p.increment("BuyBackGuarantee:desktop:bbgAdded:count"),p.increment("BuyBackGuarantee:desktop:bbgAdded:count"+
a.data.form))};l!==m&&(e.on("a2i_dpx:buyback:processBBPageState",function(){h()}),h())});"use strict";l.when("A","a-button","a-dropdown","buyback-util","BBPageState","bbMetric","gep-util","BBPageStateHelper","BuyBackFeeHandler","a-modal","a-popover","weblabConstants","buyBackConstants","valueCommensurateConstants","Logger","buyBackPageStateStatic").execute(function(e,n,g,b,p,c,h,v,K,a,r,d,q,A,x){function w(a){""!==a&&null!==g.getSelect(k('[id\x3d"'+a+'"]'))&&g.getSelect(k('[id\x3d"'+a+'"]')).setValue("");
e.trigger(R.INITIALISE_VALUE_COMMENSURATE_DATA);e.trigger(u.UPDATE_BUYBACK_MODAL_HEIGHT);e.trigger(u.RESET_ACCORDION_CONTENT)}function O(){var a=p.getUpdatedState();k.isEmptyObject(a)||(f.selectOldProductDetailsToolTipText=a.selectOldProductDetailsToolTipText,f.productCategory=a.buyBackCategory,f.buyBackCategory=a.buyBackCategory,f.buyBackprompt1Text=a.buyBackDropDown1prompt,f.buyBackprompt2Text=a.buyBackDropDown2prompt,f.buyBackprompt3Text=a.buyBackDropDown3prompt,f.categoryIdentifier=a.categoryIdentifier,
f.buyBackExchangeItems=a.buyBackExchangeItems,f.currencyCode=a.currencyCode,f.buyBackMobile=a.buyBackMobile,f.buyBoxOfferBuyingPrice=Number(a.buyBoxOfferBuyingPrice),f.feeAsin="",f.feeMap=a.feeMap,Z=f.chooseButtonText=a.chooseButtonText,a.feeAsin!==m&&(f.feeAsin=a.feeAsin),a.convenienceFee?f.convenienceFee=Number(a.convenienceFee):(f.convenienceFee=0,K.fetchFeeMap(f.productCategory,function(a){f.feeMap={map:a};G();f.convenienceFee||c.increment("BuyBack:mobile:noConvenienceFeeConfigured:count")})),
f.asin=a.asin,a.sellerId!==m&&(f.sellerId=a.sellerId),f.brand=a.brand,f.subCategoryName=a.subCategoryName,f.postalCode=a.buyBackPostalCode,f.encryptedMarketPlaceId=a.marketPlaceId,f.productPrice=a.productPrice,f.crossCategoryOfferAvailable=a.crossCategoryOfferAvailable,f.noOfQuestions=a.noOfQuestions,f.gepEligible=a.gepEligibleCustomer,f.vcExperimentalWebalbAllocation=a.vcExperimentalWebalbAllocation,f.valueCommensurateRequestId=a.vcRequestId,f.deviceType=a.deviceType,f.executingFeature=a.executingFeature)}
function Y(a){var d=f.shouldDisplaySponsorMessage,c=e.state("AdditionalSweetener");c||(e.state.parse(),c=e.state("AdditionalSweetener"));var q=0;k.isEmptyObject(c)||(q=c.sweetener);c=f.totalSponsoredValue-q;a!==m&&!0===a.hasValueCommensurateOffers?(q=a.valueCommensurateTotalDiscount,k("#"+B.DISCOUNT_PRICE).text(b.getFormattedPrice(q)),k("#"+B.DISCOUNT_PRICE_INSIDE_ACCORDION).text(b.getFormattedPrice(q)),k("#"+B.SPONSOR_DISCOUNT).text(b.getFormattedPrice(c)),0<c&&"1"===d?b.show(B.SPONSOR_DISCOUNT_TEXT):
b.hide(B.SPONSOR_DISCOUNT_TEXT),b.show(B.OFFER_APPLIED_SUCCESS,B.OFFER_APPLIED_SUCCESS_TEXT)):(q=(1===f.shouldReduceBuyBackDiscount?b.roundToNearestTen(f.selectedBuyBackOfferData.discountPrice*aa.BASE_BUYBACK_DISCOUNT_REDUCTION_PERCENTAGE):f.selectedBuyBackOfferData.discountPrice)+f.totalSponsoredValue+f.purchaseHistoryDiscount,k("#buyBackDiscountPrice").text(b.getFormattedPrice(q)),k("#buyBackDiscountPriceInsideAccordion").text(b.getFormattedPrice(q)),k("#buyBackSponsoredDiscount").text(b.getFormattedPrice(c)),
0<c&&"1"===d?b.show("buyBackSponsoredDiscountText"):b.hide("buyBackSponsoredDiscountText"),b.show("buyBackOfferAppliedSuccess","buyBackOfferAppliedSuccessText"),k(".dropDownChosen").each(function(){k(this).removeClass("hide")}),ha());b.hide("buyBackCollectOldProductDetailsText","buyBackServiceFailedAlert");f.buyBackCategory.toLowerCase()===f.buyBackMobile.toLowerCase()&&e.trigger(u.SHOW_BUYBACK_IMEI_CONTENT);e.trigger(u.SET_PRICE_WITH_BUYBACK_OFFER,a)}function C(){n("#buyBackBuyNowButton").enable()}
function y(){n("#buyBackBuyNowButton").disable()}function N(){e.trigger(u.RESET_ACCORDION_CONTENT);c.increment("BuyBack:web:dropDown1Select:count");b.hide("buyBackSelectDropDown2Alert","buyBackDropDown2","buyBackOfferAppliedSuccess","buyBackIMEISection","buyBackExchangeMightBeEligibleText","buyBackDetailsVerifyText","buyBackTermsAndConditions","priceAfterBuyBackDiscountSection","buyBackServiceFailedAlert","buyBackIMEIMismatchAlert","buybackImeiBlockAlert","buyBackConvenienceFeeTextSection","bbAppliedState");
f.selectedBuyBackOptions[0]=k("#buyBackDropDown1").val();b.show("buyBackDropDowns2");k('[id\x3d"'+f.previousSelectedBuyBackOptions[0]+'Id"]').removeClass("show").addClass("hide");k('[id\x3d"'+f.selectedBuyBackOptions[0]+'Id"]').removeClass("hide").addClass("show");"tv"===f.buyBackCategory.toLowerCase()&&(b.show("buyBackItemWorkingConditionText"),b.hide("refImages"));b.show("buyBackCollectOldProductDetailsText","maxBuyBackDiscountSection");f.categoryChosen.toLowerCase()===f.buyBackMobile?b.hide("buyBackDropDown3"):
b.show("buyBackDropDown3");w(f.previousSelectedBuyBackOptions[0]);if(""!==f.previousSelectedBuyBackOptions[1]){var a=f.previousSelectedBuyBackOptions[0]+f.previousSelectedBuyBackOptions[1];k('[id\x3d"'+a+'Id"]').removeClass("show").addClass("hide");w(a)}f.previousSelectedBuyBackOptions[0]=f.selectedBuyBackOptions[0];1!==f.noOfQuestions||b.setSelectedBuyBackOffer(f)?y():D(f.selectedBuyBackOptions[0]);k(".dropDownChosen").each(function(){k(this).addClass("hide")});b.hide("buyBackApplyOrCancelButtons",
"successIcon","buyBackConvenienceFeeTextSectionModal")}function M(){e.trigger(u.RESET_ACCORDION_CONTENT);c.increment("BuyBack:web:dropDown2Select:count");f.selectedBuyBackOptions[1]=k('[id\x3d"'+f.selectedBuyBackOptions[0]+'"]').val();b.hide("buyBackExchangeMightBeEligibleText");b.hide("buyBackApplyOrCancelButtons","successIcon","buyBackConvenienceFeeTextSectionModal","buyBackBuyNowButton","priceAfterBuyBackDiscountSection");var a=p.getUpdatedState();n("#chooseButton").text(a.chooseButtonText);b.show("maxBuyBackDiscountSection");
2!==f.noOfQuestions||b.setSelectedBuyBackOffer(f)?(y(),f.buyBackCategory.toLowerCase()===f.buyBackMobile.toLowerCase()?(e.trigger(u.HIDE_BUYBACK_IMEI_CONTENT),k(".dropDownChosen").each(function(){k(this).addClass("hide")}),b.setSelectedBuyBackOffer(f)||D(f.selectedBuyBackOptions[0])):(b.hide("buyBackOfferAppliedSuccess","buyBackDetailsVerifyText","buyBackTermsAndConditions","priceAfterBuyBackDiscountSection","buyBackServiceFailedAlert","buyBackValidIMEIAlert","buyBackIMEIMismatchAlert","buyBackIMEIUpdateText",
"buyBackDropDown3","buybackImeiBlockAlert","buyBackConvenienceFeeTextSection"),b.show("buyBackCollectOldProductDetailsText","maxBuyBackDiscountSection","buyBackDropDowns3"),""!==f.previousSelectedBuyBackOptions[1]&&(a=f.previousSelectedBuyBackOptions[0]+f.previousSelectedBuyBackOptions[1],k('[id\x3d"'+a+'Id"]').removeClass("show").addClass("hide"),w(a)),k('[id\x3d"'+f.selectedBuyBackOptions[0]+f.selectedBuyBackOptions[1]+'Id"]').removeClass("hide").addClass("show"),f.previousSelectedBuyBackOptions[1]=
f.selectedBuyBackOptions[1])):D(f.selectedBuyBackOptions[0])}function F(){k("#buyBackBuyNow").append('\x3cinput type\x3d"hidden" id\x3d"isBuyBackKey" name\x3d"custom-name.2.1" value\x3d"UNIQ-buyBack"\x3e\x3cinput type\x3d"hidden" id\x3d"isBuyBackFee" name\x3d"custom-value.2.1" value\x3d"BuyBackFee"\x3e')}function G(){if(f.categoryChosen===m||""===f.categoryChosen)f.categoryChosen=f.productCategory;var a=f.productCategory.toLowerCase()+"_"+f.categoryChosen.toLowerCase();f.convenienceFee="";f.feeAsin=
"";if(f.feeMap===m){var d="BuyBack:web:noEntryExistsFor"+f.productCategory.toLowerCase()+":count";c.increment(d);c.increment("BuyBack:mobile:feeMapUndefined:count")}else f.feeMap.map[a]===m?(c.increment("BuyBack:web:noEntryExistsFor"+a+":count"),c.increment("BuyBack:mobile:feeMapEntryForChargeKeyUndefined:count")):f.feeMap.map[a].feeEnabled?(d=f.feeMap.map[a].asin,f.convenienceFee=f.feeMap.map[a].price,""!==f.convenienceFee&&f.convenienceFee!==m||c.increment("BuyBack:mobile:convenienceFeeNotSet:count"),
f.feeAsin=d,""!==f.feeAsin&&f.feeAsin!==m||c.increment("BuyBack:mobile:feeAsinNotSet:count"),a=f.feeMap.map[a].offeringId,a!==m&&""!==a||c.increment("BuyBack:mobile:feeOfferingIdUndefined:count"),k("#feeAsin").val(d),k("#feeOfferingId").val(a)):(c.increment("BuyBack:web:feeDisabledFor"+a+":count"),c.increment("BuyBack:mobile:feeDisabled:count"))}function J(){k("#isBuyBackKey").val("UNIQ-buyBack");k("#isBuyBackFee").val("BuyBackFee")}function E(){k("#feeAsin")[0]!==m&&k("#feeAsin")[0].value!==m&&k("#feeAsin").val("");
k("#feeOfferingId")[0]!==m&&k("#feeOfferingId")[0].value!==m&&k("#feeOfferingId").val("");k("#isBuyBackKey")[0]!==m&&k("#isBuyBackKey")[0].value!==m&&k("#isBuyBackKey").val("");k("#isBuyBackFee")[0]!==m&&k("#isBuyBackFee")[0].value!==m&&k("#isBuyBackFee").val("")}function D(a){c.increment("BuyBack:web:discountApply:count");var d=""===f.categoryChosen.toLowerCase()?f.productCategory:f.categoryChosen.toLowerCase();"mobile"!==d&&"tv"!==d?b.hide("buyBackMobileWorkingConditionNote"):b.show("buyBackMobileWorkingConditionNote");
"tv"===f.categoryChosen.toLowerCase()&&b.show("buyBackItemWorkingConditionText");y();c.startTimer("BuyBack:web:ajaxSave");d=b.applyBuyBackOffer(f);c.stopTimer("BuyBack:web:ajaxSave");d?f.vcExperimentalWebalbAllocation===S.T1?(a={},d=f.selectedBuyBackOfferData.offerId.split(T.DELIMITER),d=d[4]+T.DELIMITER+d[5],a.buyBackCategory=f.buyBackCategory,a.buyBackItemId=d,a.requestId=f.valueCommensurateRequestId,a.deviceType=T.DEVICE_TYPE,a.totalBuyBackDiscount=f.selectedBuyBackOfferData.discountPrice+f.totalSponsoredValue+
f.purchaseHistoryDiscount,a.baseBuyBackDiscount=f.selectedBuyBackOfferData.discountPrice+f.purchaseHistoryDiscount,e.trigger(u.BUYBACK_LAST_DROPDOWN_SELECTED,a)):e.trigger(u.BUYBACK_OFFER_SUCCESSFULLY_APPLIED,{hasValueCommensurateOffers:!1}):(c.increment("BuyBack:web:dataSaveFailed:count"),b.show("buyBackServiceFailedAlert","buyBackCollectOldProductDetailsText","maxBuyBackDiscountSection"),b.hide("buyBackDetailsVerifyText","buyBackOfferAppliedSuccess","buyBackTermsAndConditions","priceAfterBuyBackDiscountSection",
"buyBackIMEISection","buyBackConvenienceFeeTextSection"),w(a))}function I(){var d=ba.css("height"),b=ca.css("height");d>b?U.css("height",d):U.css("height",b);d=a.get("BuyBackModalDialog");d.lock().show().updatePosition();d.unlock()}function H(){e.on("a:dropdown:select",function(a){"buyBackDropDown0"===a.name?V():"buyBackDropDown1"===a.name?N():a.name===k("#buyBackDropDown1").val()?M():a.name===f.selectedBuyBackOptions[0]+f.selectedBuyBackOptions[1]&&(e.trigger(u.RESET_ACCORDION_CONTENT),c.increment("BuyBack:web:dropDown3Select:count"),
b.hide("buyBackExchangeMightBeEligibleText"),f.selectedBuyBackOptions[2]=k('[id\x3d"'+f.selectedBuyBackOptions[0]+f.selectedBuyBackOptions[1]+'"]').val(),b.setSelectedBuyBackOffer(f)||D(f.selectedBuyBackOptions[0]+f.selectedBuyBackOptions[1]))});k("#buyBackIMEITextInput").bind("change input",function(){c.increment("BuyBack:web:imeiInput:count");b.hide("buyBackValidIMEIAlert","buyBackIMEIUpdate","buyBackServiceFailedAlert","buyBackTermsAndConditions","buyBackIMEIMismatchAlert","buybackImeiBlockAlert",
"buyBackGEPIMEISuccessAlert","buyBackGEPSuccessNotes");b.show("buyBackVerifyIMEIText");b.hide("buyBackApplyOrCancelButtons","successIcon","buyBackConvenienceFeeTextSectionModal");b.show("buyBackApplyButton");k("#buyBackIMEITextInput").removeClass("a-form-error");y()});k("#buyBackApplyButton").unbind("click").click(function(){c.increment("BuyBack:web:apply:count");f.imeiNumber=k("#buyBackIMEITextInput").val();if(b.isValidBuyBackIMEI()){f.gepEligible=h.gepEligibleCustomer?1:0;var a=b.validateBrandAndModelBasedOnIMEI(f);
if("FAILED"===a)c.increment("BuyBack:web:imeiServiceFailed:count"),y(),b.show("buyBackServiceFailedAlert","buyBackVerifyIMEIText"),b.hide("buyBackTermsAndConditions","buyBackIMEIMismatchAlert","buyBackValidIMEIAlert","buyBackIMEIUpdate","buybackImeiBlockAlert","buyBackGEPIMEISuccessAlert","buyBackGEPSuccessNotes");else if("MISMATCH"===a)c.increment("BuyBack:web:imeiMismatch:count"),y(),k("#buyBackIMEITextInput").addClass("a-form-error"),b.show("buyBackIMEIMismatchAlert","buyBackVerifyIMEIText"),b.hide("buyBackTermsAndConditions",
"buyBackServiceFailedAlert","buyBackValidIMEIAlert","buyBackIMEIUpdate","buybackImeiBlockAlert","buyBackGEPIMEISuccessAlert","buyBackGEPSuccessNotes");else if("BLOCK"===a)c.increment("BuyBack:web:imeiBlock:count"),y(),k("#buyBackIMEITextInput").addClass("a-form-error"),b.show("buybackImeiBlockAlert","buyBackVerifyIMEIText"),b.hide("buyBackTermsAndConditions","buyBackServiceFailedAlert","buyBackValidIMEIAlert","buyBackIMEIUpdate","buyBackIMEIMismatchAlert","buyBackGEPIMEISuccessAlert","buyBackGEPSuccessNotes");
else if("SUCCESS"===a)if(c.increment("BuyBack:web:correctIMEI:count"),b.hide("buyBackHowToGetIMEI","buyBackVerifyIMEIText","buyBackGEPIMEIInfoAlert","buyBackIMEIMismatchAlert","buyBackValidIMEIAlert","buyBackServiceFailedAlert","buybackImeiBlockAlert"),b.show("buyBackApplyOrCancelButtons","successIcon","buyBackConvenienceFeeTextSectionModal","buyBackIMEIUpdate"),b.hide("buyBackApplyButton"),I(),C(),f.selectedBuyBackOfferData.gepEligibleBrandModel)if(h.showGEPDivPostIMEIValidation(f),f.gepDiscountValue){a=
f.buyBoxOfferBuyingPrice-f.gepDiscountValue;if(""===f.convenienceFee)E();else{var d=Number(f.convenienceFee);a+=d;k("#isBuyBackFee")[0]===m?F():J();k("#convenienceFeeCharge").text(d);k("#convenienceFeeChargeModal").text(d)}a=b.getFormattedPrice(a);k("#priceAfterBuyBackDiscount").text(a);b.hide("maxBuyBackDiscountSection");b.show("priceAfterBuyBackDiscountSection")}else f.vcExperimentalWebalbAllocation===S.T1?e.trigger(u.SET_PRICE_WITH_VALUE_COMMENSURATE_OFFER):e.trigger(u.SET_PRICE_WITH_BUYBACK_OFFER,
{hasValueCommensurateOffers:!1});else 11===f.gepStatusCode?(c.increment("BuyBack:GEP:gepNotEligibleDueToCustomerNotLoggedIn:count"),k("#buyBackGEPNotEligibleAlert").html(f.gepFailureNoteText),b.hide("buyBackGEPIMEISuccessAlert"),b.show("buyBackGEPNotEligibleAlert","buyBackOfferAppliedSuccess","buyBackTermsAndConditions")):(b.hide("buyBackGEPNotEligibleAlert","buyBackOfferAppliedSuccess"),b.show("buyBackTermsAndConditions"))}else k("#buyBackIMEITextInput").addClass("a-form-error"),b.hide("buyBackGEPNotEligibleAlert",
"buyBackOfferAppliedSuccess","buyBackIMEIUpdate","buyBackTermsAndConditions","buyBackServiceFailedAlert","buyBackGEPIMEISuccessAlert","buyBackGEPSuccessNotes"),b.show("buyBackValidIMEIAlert","buyBackHowToGetIMEI","buyBackVerifyIMEIText"),y()});k("#applyBuyBack").unbind("click").click(function(){f.vcExperimentalWebalbAllocation===S.T1?e.trigger(u.APPLY_EXCHANGE_BUTTON_CLICKED):e.trigger(u.APPLY_EXCHANGE_BUTTON_EXECUTION,{hasValueCommensurateOffers:!1})});k("#cancelBuyBack").unbind("click").click(function(){p.callBBPageState&&
p.getUpdatedState();b.auiNewPageStateParseLogicBuyBack();v.lazyLoad();O();p.getUpdatedState();W();z();da();k("#buyBackDropDown2").removeClass("hide");k("#buyBackDropDowns2").html("");k("#buyBackDropDown3").removeClass("hide");k("#buyBackDropDowns3").html("");k("#buyBackIMEITextInput").removeClass("a-form-error");k("#buyBackIMEITextInput").val("");ea();e.trigger(R.INITIALISE_VALUE_COMMENSURATE_DATA);fa()})}function z(){var a=k("#buyBackDropDown0").val();"undefined"!==typeof a&&""!==a&&w("buyBackDropDown0");
a=k("#buyBackDropDown1").val();if("undefined"!==typeof a&&""!==a){var d=k('[id\x3d"'+a+'"]').val();w("buyBackDropDown1");"undefined"!==typeof d&&""!==d&&(w(a),w(a+d))}}function X(a,d,b,c,f){if("undefined"===typeof d)return"";var e="\x3cspan class\x3d'a-dropdown-container'\x3e\x3cselect name\x3d'"+c+b+"' id\x3d'"+c+b+"' tabindex\x3d'-1' class\x3d'a-native-dropdown a-button-span5 a-spacing-none'\x3e\x3coption class\x3d'a-prompt' value\x3d''\x3e"+f+"\x3c/option\x3e";k.each(d,function(a,d){e=e+"\x3coption value\x3d'"+
d.header+"'\x3e"+d.header+"\x3c/option\x3e"});return e=e+"\x3c/select\x3e\x3cspan tabindex\x3d'-1' id\x3d'"+c+b+"Id' class\x3d'a-button a-button-dropdown a-spacing-none a-button-span5 hide' \x3e\x3cspan class\x3d'a-button-inner'\x3e\x3cspan class\x3d'a-button-text a-declarative' data-action\x3d'a-dropdown-button' role\x3d'button' tabindex\x3d'0'\x3e\x3cspan class\x3d'a-dropdown-prompt'\x3e"+f+"\x3c/span\x3e\x3c/span\x3e\x3ci class\x3d'a-icon a-icon-dropdown'\x3e\x3c/i\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e"}
function P(){if("undefined"!==typeof f.buyBackExchangeItems){var a="",d="";k.each(f.buyBackExchangeItems,function(b,c){a+=X(b,c.containedBuyBackProductNodes,c.header,"",f.buyBackprompt2Text);var e=c.header;k.each(c.containedBuyBackProductNodes,function(a,b){d+=X(a,b.containedBuyBackProductNodes,b.header,e,f.buyBackprompt3Text)})});k("#buyBackDropDowns2").html(a);k("#buyBackDropDowns3").html(d)}}function Q(){if("undefined"!==typeof f.buyBackExchangeItems&&""!==f.buyBackExchangeItems){g.getSelect("buyBackDropDown1").getOptions().remove();
g.getSelect("buyBackDropDown1").addOptions(ia(f.buyBackExchangeItems));var a=f.buyBackprompt1Text;g.getSelect("buyBackDropDown1").update({option_prompt:a});l.when("A").execute(function(a){a.$("#buyBackDropDown1Id").show()});b.show("buyBackDropDown1Id","buyBackDropDowns1");1<f.noOfQuestions&&P()}}function ja(){e.trigger(u.RESET_ACCORDION_CONTENT);c.increment("BuyBack:web:dropDown0Select:count");c.startTimer("BuyBack:web:getBuyBackCrossCategoryOffers");b.hide("buyBackSelectDropDown2Alert","buyBackDropDown2",
"buyBackOfferAppliedSuccess","buyBackIMEISection","buyBackDetailsVerifyText","buyBackTermsAndConditions","priceAfterBuyBackDiscountSection","buyBackServiceFailedAlert","buyBackIMEIMismatchAlert","buyBackDropDown3","buyBackValidIMEIAlert","buyBackIMEIUpdate","buyBackMobileWorkingConditionText","mobileExchangeNotAvailableAtPincode","buyBackItemWorkingConditionText","buybackImeiBlockAlert","buyBackConvenienceFeeTextSection");b.show("buyBackCollectOldProductDetailsText","maxBuyBackDiscountSection");f.categoryChosen=
k("#buyBackDropDown0").val();G();f.selectedBuyBackOptions=["","",""];f.previousSelectedBuyBackOptions=["",""];var a=b.updateBestBuyBackOfferForCategory(f);""===f.buyBackExchangeItems||!1===a?(c.increment("BuyBack:web:crossCategoryOfferNotAvailableStringShown:count"),c.startTimer("BuyBack:web:crossCategoryOfferNotAvailable"),f.buyBackExchangeItems="",b.hide("buyBackDropDowns1","buyBackDropDowns2","buyBackDropDowns3","buyBackSelectDropDown2Alert","buyBackDropDown2","buyBackOfferAppliedSuccess","buyBackIMEISection",
"buyBackDetailsVerifyText","buyBackTermsAndConditions","priceAfterBuyBackDiscountSection","buyBackServiceFailedAlert","buyBackIMEIMismatchAlert","buyBackDropDown1Id","buyBackCollectOldProductDetailsText","buybackImeiBlockAlert","buyBackConvenienceFeeTextSection"),b.hide("buyBackCollectOldProductDetailsText","chooseButton"),b.show("mobileExchangeNotAvailableAtPincode"),y(),c.stopTimer("BuyBack:web:crossCategoryOfferNotAvailable")):(document.getElementById("buyBackDropDown0Id").classList.contains("a-button-span6")&&
(document.getElementById("buyBackDropDown0Id").classList.remove("a-button-span6"),document.getElementById("buyBackDropDown0Id").classList.add("a-button-span5")),k(".dropDownChosen").each(function(){k(this).addClass("hide")}),b.hide("buyBackApplyOrCancelButtons","successIcon","buyBackConvenienceFeeTextSectionModal"),f.categoryChosen.toLowerCase()===f.buyBackMobile&&(b.hide("buyBackDropDown3"),b.show("buyBackMobileWorkingConditionText")),"tv"===f.categoryChosen.toLowerCase()&&b.show("buyBackItemWorkingConditionText"),
g.getSelect("buyBackDropDown1").update({option_prompt:f.buyBackprompt1Text}),c.stopTimer("BuyBack:web:getBuyBackCrossCategoryOffers"),e.trigger(R.INITIALISE_VALUE_COMMENSURATE_DATA),e.trigger(u.UPDATE_BUYBACK_MODAL_HEIGHT))}function ha(){var a=""===f.categoryChosen.toLowerCase()?f.productCategory:f.categoryChosen.toLowerCase();a!==m&&""!==a&&(a=ka[a],a!==m&&""!==a&&(a={inlineContent:a,position:"triggerBottom"},e.declarative.create(k("#refImages"),"a-tooltip",a)))}function ia(a){var d=[];e.each(a,
function(a){d.push({text:a.header,value:a.header})});return d}function V(){e.on("a:dropdown:select",function(a){"buyBackDropDown0"===a.name&&(ja(),""!==f.buyBackExchangeItems&&Q())})}function ea(){Q();var a=document.getElementById("buyBackDropDown0");f.crossCategoryOfferAvailable!==m&&null!==a&&"true"===f.crossCategoryOfferAvailable&&(b.hide("buyBackDropDown1Id","buyBackDropDowns1","buyBackDropDown2","buyBackDropDown3"),document.getElementById("buyBackDropDown0Id").classList.contains("a-button-span5")&&
(document.getElementById("buyBackDropDown0Id").classList.remove("a-button-span5"),document.getElementById("buyBackDropDown0Id").classList.add("a-button-span6")))}function da(){b.hide("buyBackIMEISection","buyBackBuyNowButton","bbAppliedState","priceAfterBuyBackDiscountSection","buyBackConvenienceFeeTextSection","buyBackTermsAndConditions","buyBackApplyOrCancelButtons","successIcon","buyBackConvenienceFeeTextSectionModal","buyBackDropDown2","buyBackDropDown3");b.show("maxBuyBackDiscountSection");k(".dropDownChosen").each(function(){k(this).addClass("hide")})}
function fa(){var d=a.get("BuyBackModalDialog");d!==m&&d.hide()}function W(){b.hide("buyBackBuyNowButton","bbAppliedState","priceAfterBuyBackDiscountSection","buyBackTermsAndConditions","buyBackOfferAppliedSuccessText1",B.DISCOUNT_PRICE_INSIDE_ACCORDION_TEXT);b.show("maxBuyBackDiscountSection");n("#chooseButton").text(Z);b.hide("buyBackConvenienceFeeTextSection");y();b.hide("buyBackBuyNowButton")}var k=e.$,f={selectedBuyBackOptions:["","",""],previousSelectedBuyBackOptions:["",""],imeiNumber:"",totalSponsoredValue:0,
shouldDisplaySponsorMessage:"1",purchaseHistoryDiscount:0,categoryChosen:"",productCategoryToDbMapping:{tv:"TV",refrigerator:"Refrigerator",laptop:"Laptop",washingmachine:"WashingMachine",tablet:"Tablet",ac:"AC"},bulkyCategories:"tv washingmachine refrigerator ac sofa coffeetable mattress wardrobe recliner shoerack tvunit studytable officechair bed".split(" ")},u=q.action,L=q.selectors,T=q.common,S=d.treatment,R=A.action,aa=A.common,B=A.selector,Z,ca=k("#"+L.MODAL_LEFT_COLUMN_CONTENT),U=k("#"+L.MODAL_LEFT_COLUMN),
ba=k("#"+L.MODAL_RIGHT_COLUMN),ka={mobile:"\x3cimg src\x3d'https://m.media-amazon.com/images/G/31/buyback/device_check_screen/Mobile/NON_VC/2.jpg' height\x3d'135' width\x3d'135' /\x3e\x26nbsp; \x26nbsp;\x3cimg src\x3d'https://m.media-amazon.com/images/G/31/buyback/device_check_screen/Mobile/NON_VC/3.jpg' height\x3d'135' width\x3d'135' /\x3e\x3c/br\x3e\x3c/br\x3e\x3cimg src\x3d'https://m.media-amazon.com/images/G/31/buyback/device_check_screen/Mobile/NON_VC/4.jpg' height\x3d'135' width\x3d'135' /\x3e\x26nbsp; \x26nbsp;\x3cimg src\x3d'https://m.media-amazon.com/images/G/31/buyback/device_check_screen/Mobile/NON_VC/1.jpg' height\x3d'135' width\x3d'135' /\x3e"};
e.on("a:accordion:buybox-accordion:buyBackAccordionRow:select",function(a){c.increment("BuyBack:web:buyBackAccordionRow:select:count");k=e.$;a=document.getElementById("buyBackDropDown0");var d=f.crossCategoryOfferAvailable;"true"===d&&(b.hide("buyBackIMEISection","buyBackApplyOrCancelButtons","successIcon","buyBackConvenienceFeeTextSectionModal"),b.hide("buyBackDropDown1Id","buyBackDropDowns1","buyBackDropDown2","buyBackDropDown3"),g.getSelect(k('[id\x3d"buyBackDropDown0"]')).setValue(""),k(".dropDownChosen").each(function(){k(this).addClass("hide")}),
k("#buyBackDropDowns2").html(""),k("#buyBackDropDowns3").html(""),k("#buyBackIMEITextInput").removeClass("a-form-error"),k("#buyBackIMEITextInput").val(""));O();var q=k("#isSlotsAvailable").attr("value");-1<f.bulkyCategories.indexOf(f.buyBackCategory.toLowerCase())&&q!==m&&"false"===q?(c.increment("BuyBack:web:hnbFaddBuyBackSuppression:count"),c.startTimer("BuyBack:web:hnbFaddBuyBackSuppression"),k("#buyBackDropDowns3").parent().addClass("aok-hidden"),k("#buyBackDropDown0").parent().parent().addClass("aok-hidden"),
b.hide("maxBuyBackDiscountSection","buyBackDropDowns1","buyBackSelectDropDown2Alert","buyBackDropDown2","buyBackOfferAppliedSuccess","buyBackIMEISection","buyBackDetailsVerifyText","buyBackTermsAndConditions","priceAfterBuyBackDiscountSection","buyBackServiceFailedAlert","buyBackIMEIMismatchAlert","buyBackDropDown1Id","buyBackCollectOldProductDetailsText","buybackImeiBlockAlert","buyBackConvenienceFeeTextSection","chooseButton"),b.show("mobileExchangeNotAvailableAtPincode"),n("#buyBackBuyNowButton").disable(),
c.stopTimer("BuyBack:web:hnbFaddBuyBackSuppression")):d!==m&&null!==a&&"false"===f.crossCategoryOfferAvailable&&(c.increment("BuyBack:web:mobileOffersNotAvailable:count"),f.productCategory.toLowerCase()!==f.categoryChosen.toLowerCase()&&(f.buybackCategory=f.productCategory,f.categoryChosen=f.productCategoryToDbMapping[f.productCategory],b.updateBestBuyBackOfferForCategory(f),1<f.noOfQuestions&&P()),b.hide("buyBackDropDowns0SectionId","buyBackDropDown0Id","buyBackDropDown0","buyBackDropDown1","buyBackDropDown2",
"buyBackDropDown3","mobileExchangeNotAvailableAtPincode","buyBackIMEISection"),b.show("buyBackDropDown1","buyBackDropDown1Id","buyBackDropDowns1"))});e.on("a2i_dpx:buyback:processBBPageState",function(){p.callBBPageState&&p.getUpdatedState();b.auiNewPageStateParseLogicBuyBack();v.lazyLoad();O();V();Q();1<f.noOfQuestions&&P();H()});z();O();V();1<f.noOfQuestions&&P();H();e.on(u.APPLY_EXCHANGE_BUTTON_EXECUTION,function(d){var c=!1;d!==m&&(c=d.hasValueCommensurateOffers);b.show("buyBackBuyNowButton",
"bbAppliedState","priceAfterBuyBackDiscountSection","buyBackTermsAndConditions");c?(b.show(B.DISCOUNT_PRICE_INSIDE_ACCORDION_TEXT),b.hide("buyBackOfferAppliedSuccessText1")):(b.hide(B.DISCOUNT_PRICE_INSIDE_ACCORDION_TEXT),b.show("buyBackOfferAppliedSuccessText1"));b.hide("maxBuyBackDiscountSection");d=f.selectedBuyBackOptions[0]+" "+f.selectedBuyBackOptions[1];n("#chooseButton").text(d);d=a.get("BuyBackModalDialog");""!==f.convenienceFee&&b.show("buyBackConvenienceFeeTextSection");d.hide();C()});
e.on(u.UPDATE_BUYBACK_MODAL_HEIGHT,function(){I()});e.on(u.BUYBACK_OFFER_SUCCESSFULLY_APPLIED,function(a){Y(a)});e.on(u.SET_PRICE_WITH_BUYBACK_OFFER,function(a){a!==m&&!0===a.hasValueCommensurateOffers?a=f.buyBoxOfferBuyingPrice-a.valueCommensurateTotalDiscount:(a=1===f.shouldReduceBuyBackDiscount?b.roundToNearestTen(f.selectedBuyBackOfferData.discountPrice*aa.BASE_BUYBACK_DISCOUNT_REDUCTION_PERCENTAGE):f.selectedBuyBackOfferData.discountPrice,a=f.buyBoxOfferBuyingPrice-(a+f.totalSponsoredValue+f.purchaseHistoryDiscount));
if(""===f.convenienceFee)E();else{var d=Number(f.convenienceFee);a+=d;k("#isBuyBackFee")[0]===m?F():J();k("#convenienceFeeCharge").text(d);k("#convenienceFeeChargeModal").text(d)}a=b.getFormattedPrice(a);k("#priceAfterBuyBackDiscount").text(a);e.trigger(u.SHOW_BUYBACK_POST_OFFER_SELECTION_EXPERIENCE)});e.on(u.SHOW_BUYBACK_POST_OFFER_SELECTION_EXPERIENCE,function(){f.buyBackCategory.toLowerCase()!==f.buyBackMobile.toLowerCase()?(C(),b.show("buyBackApplyOrCancelButtons","buyBackConvenienceFeeTextSectionModal")):
(b.show("buyBackIMEISection","buyBackVerifyIMEIText"),b.hide("buyBackTermsAndConditions","buyBackIMEIUpdate"));e.trigger(u.UPDATE_BUYBACK_MODAL_HEIGHT);c.increment("BuyBack:web:dataSaveSuccess:count")});e.on(u.SHOW_BUYBACK_IMEI_CONTENT,function(){b.hide("successIcon");b.show("buyBackHowToGetIMEI","buyBackIMEISection","buyBackDetailsVerifyText","buyBackVerifyIMEIText","buyBackApplyButton")});e.on(u.HIDE_BUYBACK_IMEI_CONTENT,function(){b.hide("buyBackDropDown3","buyBackIMEIMismatchAlert","buyBackValidIMEIAlert",
"buyBackIMEIUpdateText","buyBackCollectOldProductDetailsText","buybackImeiBlockAlert","buyBackHowToGetIMEI","buyBackIMEISection");k("#buyBackIMEITextInput").removeClass("a-form-error");k("#buyBackIMEITextInput").val("")});e.on(u.PAGE_UPDATE,function(){x.log(u.PAGE_UPDATE);ca=k("#"+L.MODAL_LEFT_COLUMN_CONTENT);U=k("#"+L.MODAL_LEFT_COLUMN);ba=k("#"+L.MODAL_RIGHT_COLUMN)});e.on(u.RESET_ACCORDION_CONTENT,function(){x.log(u.RESET_ACCORDION_CONTENT);W()});t.addEventListener(u.UNLOAD_PAGE,function(a){t.event&&
40>t.event.clientX&&0>t.event.clientY?z():1===a.currentTarget.performance.navigation.type&&(W(),z(),da(),ea(),fa())})});"use strict";l.when("A","BBPageState","bbMetric","buyBackConstants","BBPageStateHelper").register("buyback-util",function(e,n,g,b,p){function c(a){var b=a%10;10<=a&&(b+=c(Math.floor(a/10)));return b}var h=e.$,l=b.common;n.init();var t=n.getUpdatedState();return{hide:function(){for(var a=0;a<arguments.length;a++)h("#"+arguments[a]).removeClass("show").addClass("hide")},show:function(){for(var a=
0;a<arguments.length;a++)h("#"+arguments[a]).removeClass("hide").addClass("show")},hideAll:function(){for(var a=0;a<arguments.length;a++)for(var b=arguments[a],d=0;d<b.length;d++)h(b[d]).removeClass("show").addClass("hide")},showAll:function(){for(var a=0;a<arguments.length;a++)for(var b=arguments[a],d=0;d<b.length;d++)h(b[d]).removeClass("hide").addClass("show")},hideInline:function(){for(var a=0;a<arguments.length;a++)null!==h("#"+arguments[a])&&h("#"+arguments[a]).addClass("hide")},showInline:function(){for(var a=
0;a<arguments.length;a++)null!==h("#"+arguments[a])&&h("#"+arguments[a]).removeClass("hide")},isValidBuyBackIMEI:function(){var a=h("#buyBackIMEITextInput").val(),b=0;if(15!==a.length||-1!==a.indexOf("."))return!1;a=Number(h("#buyBackIMEITextInput").val());if(isNaN(a))return!1;for(var d=15;1<=d;d--){var e=a%10;0===d%2&&(e*=2);b+=c(e);a=Math.floor(a/10)}return 0===b%10?!0:!1},getFormattedPrice:function(a,b){"undefined"===typeof b&&(b=!1);a=a.toFixed(2);var d=Math.floor(a),c="";b?0<a.indexOf(".")&&
d!==a&&(c=a.substring(a.indexOf("."),a.length)):0<a.indexOf(".")&&(c=a.substring(a.indexOf("."),a.length));d=d.toString();a=d.substring(d.length-3);d=d.substring(0,d.length-3);""!==d&&(a=","+a);return d.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a+c},applyBuyBackOffer:function(a){var b=!1,d={type:"post",url:"/gp/product/features/buyback/buyBackDiscountHandler.html?"+h.param({asin:a.asin,category:a.buyBackCategory,currencyCode:a.currencyCode,postalCode:a.postalCode,sellerId:a.sellerId,categoryIdentifier:a.categoryIdentifier,
productPrice:a.buyBoxOfferBuyingPrice,buyBackOfferId:a.selectedBuyBackOfferData.offerId,isGepEligible:a.selectedBuyBackOfferData.gepEligibleBrandModel?1:0,discountValue:a.selectedBuyBackOfferData.discountPrice||(a.selectedBuyBackOfferData.gepEligibleBrandModel?1:0),feeAsin:a.feeAsin,convenienceFee:a.convenienceFee,valueCommensurateRequestId:a.valueCommensurateRequestId!==m?a.valueCommensurateRequestId:"",executingFeature:a.executingFeature!==m?a.executingFeature:"",deviceType:a.deviceType!==m?a.deviceType:
""}),async:!1,success:function(d){try{var c=JSON.parse(d)}catch(x){b=!1}"undefined"!==typeof c&&"SUCCESS"===c.status&&(b=!0,a.totalSponsoredValue=c.sponsoredDiscount,a.purchaseHistoryDiscount=c.purchaseHistoryDiscount,a.shouldDisplaySponsorMessage=c.shouldDisplaySponsorMessage,a.isValueCommensurateEligible=c.isValueCommensurateEligible,a.shouldReduceBuyBackDiscount=c.shouldReduceBuyBackDiscount,e.state("AdditionalSweetener",{sweetener:c.valueMatchingSweetener}))},error:function(){b=!1}};h.ajax(d);
e.trigger("BUYBACK_DISCOUNT_HANDLER_FOR_DFL",b);return b},updateBestBuyBackOfferForCategory:function(a){var b=!1,d={type:"post",url:"/gp/product/features/buyback/buyBackOffersForCategory.html?"+h.param({encryptedMarketPlaceId:a.encryptedMarketPlaceId,asin:a.asin,productPrice:a.productPrice,brand:a.brand,subCategoryName:a.subCategoryName,encryptedMerchantId:a.sellerId,postalCode:a.postalCode,buyBackCategory:a.categoryChosen,rbnHierarchyNodes:a.productCategory}),async:!1,success:function(d){try{var c=
JSON.parse(d)}catch(x){b=!1}"undefined"!==typeof c&&"SERVICE-SUCCESS"===c.status&&(b=!0,a.buyBackExchangeItems="",""!==c.BestBuyBackOffer&&null!==c.BestBuyBackOffer&&(d=JSON.parse(c.BestBuyBackOffer),a.buyBackExchangeItems=d.containedBuyBackProductNodes),a.buyBackCategory=c.BuyBackCategory,a.buyBackprompt1Text=c.Option1PromptText,a.buyBackprompt2Text=c.Option2PromptText,a.buyBackprompt3Text=c.Option3PromptText)},error:function(){b=!1}};h.ajax(d);return b},validateBrandAndModelBasedOnIMEI:function(a){var b=
{asin:a.asin,imeiNumber:a.imeiNumber,brand:a.selectedBuyBackOptions[0],model:a.selectedBuyBackOptions[1],category:a.buyBackCategory.toLowerCase(),sellerId:a.sellerId,isGepEligible:a.selectedBuyBackOfferData.gepEligibleBrandModel?1:0,totalBuyBackDiscount:a.selectedBuyBackOfferData.discountPrice+a.totalSponsoredValue,productPrice:a.productPrice,executingFeature:a.executingFeature!==m?a.executingFeature:"",deviceType:a.deviceType!==m?a.deviceType:"",valueCommensurateRequestId:1===a.isValueCommensurateEligible?
a.valueCommensurateRequestId:""},d="FAILED";b={type:"post",url:"/gp/product/features/buyback/verifyIMEIHandler.html?"+h.param(b),async:!1,success:function(b){try{var c=JSON.parse(b)}catch(x){d="FAILED"}"undefined"!==typeof c&&"SUCCESS"===c.status?(d="SUCCESS",a.gepDiscountValue=c.gepDiscountValue,a.discountAppliedText=c.discountAppliedText,a.gepSuccessNoteText=c.gepSuccessNoteText,a.gepFailureNoteText=c.gepFailureNoteText,a.gepStatusCode=c.gepStatusCode):"undefined"!==typeof c&&"MISMATCH"===c.status?
d="MISMATCH":"undefined"!==typeof c&&"BLOCK"===c.status&&(d="BLOCK")},error:function(){d="FAILED"}};h.ajax(b);e.trigger("IMEI_AJAX_CALL_VERIFICATION",d,a);e.trigger("VALIDATE_IMEI_FOR_DFL",d,a);return d},setSelectedBuyBackOffer:function(a){var b=!0;h.each(a.buyBackExchangeItems,function(d,c){if(1<a.noOfQuestions&&c.header===a.selectedBuyBackOptions[0])h.each(c.containedBuyBackProductNodes,function(d,c){if(c.header===a.selectedBuyBackOptions[1]){if(""===a.selectedBuyBackOptions[2]&&null!==c.buyBackProductDetails)return a.selectedBuyBackOfferData=
c.buyBackProductDetails.buyBackOfferDetailsList[0],b=!1;h.each(c.containedBuyBackProductNodes,function(d,c){if(c.header===a.selectedBuyBackOptions[2]&&null!==c.buyBackProductDetails)return a.selectedBuyBackOfferData=c.buyBackProductDetails.buyBackOfferDetailsList[0],b=!1})}});else if(1===a.noOfQuestions&&c.header===a.selectedBuyBackOptions[0]){if(null!==c.buyBackProductDetails)return a.selectedBuyBackOfferData=c.buyBackProductDetails.buyBackOfferDetailsList[0],b=!1;h.each(c.containedBuyBackProductNodes,
function(d,c){if(c.header===a.selectedBuyBackOptions[2]&&null!==c.buyBackProductDetails)return a.selectedBuyBackOfferData=c.buyBackProductDetails.buyBackOfferDetailsList[0],b=!1})}return b});return b},auiNewPageStateParseLogicBuyBack:function(){var a=e.parseJSON,c=["buyBackPageState"];e.each(h('script[type\x3d"a-state"]'),function(d){d=h(d);if(!d.data("a-eval")){var b=d.attr("data-a-state");if(b&&(b=a(b),b.key&&-1!==h.inArray(b.key,c))){var g=a(d.html());e.state.replace(b.key,g);d.data("a-eval",!0)}}})},
getSponsoredDiscount:function(a,b,d,c,e){var g=0;a={type:"post",url:"/gp/product/features/buyback/buyBackAjaxHandler.html?"+h.param({asin:a.asin,category:a.buyBackCategory,currencyCode:a.currencyCode,postalCode:a.buyBackPostalCode,sellerId:a.sellerId,categoryIdentifier:a.categoryIdentifier,productPrice:a.buyBoxOfferBuyingPrice,buyBackOfferId:b,discountValue:d,imeiNumber:c,brand:a.deviceBrandName,modelId:a.deviceModelId,feeAsin:a.feeAsin,convenienceFee:a.convenienceFee}),async:!1,success:function(a){try{var d=
JSON.parse(a)}catch(Y){g=0}"undefined"!==typeof d&&"SUCCESS"===d.status&&(g=d.sponsoredDiscount,e.shouldDisplaySponsorMessage=d.shouldDisplaySponsorMessage)},error:function(){g=0}};h.ajax(a);return g},getMaxDiagnosticsDiscount:function(a,b){a="/gp/product/features/buyback/buyBackDiagnosticOffer.html?"+h.param({sessionId:a.dpSessionId,asin:a.asin,diagnosticRunId:b,productPrice:a.buyBoxOfferBuyingPrice});var d=0;if(!b||0===b.length)return d;h.ajax({type:"post",url:a,async:!1,success:function(a){try{var b=
JSON.parse(a)}catch(x){d=0}"undefined"!==typeof b&&"SERVICE-SUCCESS"===b.status&&(d=b)},error:function(){d=0}});return d},getModelNameFromModelId:function(a,b){var d="";a={type:"post",url:"/gp/product/features/buyback/diagnosticMobileModelName.html?"+h.param({mobileModelId:b+"_"+a}),async:!1,success:function(a){try{var b=JSON.parse(a)}catch(x){d=""}"undefined"!==typeof b&&"SERVICE-SUCCESS"===b.status&&(d=b)},error:function(){d=""}};h.ajax(a);return d},updateCustomerdata:function(a,b,d,c){var e=!1;
a={type:"post",url:"/gp/product/features/buyback/updateBuyBackCustomerDataBySession.html?"+h.param({sessionId:a.dpSessionId,asin:a.asin,buyBackData:b,sponsoredOffers:d,diagnosticOffer:c}),async:!1,success:function(a){try{var d=JSON.parse(a)}catch(O){e=!1}"undefined"!==typeof d&&"SERVICE-SUCCESS"===d.status&&(e=!0)},error:function(){e=!1}};h.ajax(a);return e},fetchDeviceCheckRejectWeblabTreatment:function(){var a="C";h.ajax({type:"get",url:"/gp/product/features/buyback/buyBackDeviceCheckWeblabTrigger.html",
async:!1,success:function(b){try{var d=JSON.parse(b)}catch(q){g.increment("BuyBack:buyBackDeviceCheckWeblabTrigger:jsonParse:count")}"undefined"!==typeof d&&"SUCCESS"===d.status&&(a=d.deviceCheckRejectWeblab,g.increment("BuyBack:deviceCheckRejectWeblab:success:count"))},error:function(){g.increment("BuyBack:deviceCheckRejectWeblab:error:count")}});return a},checkBuyBackAccordionRequest:function(a){return"undefined"===typeof a||"BB"===a?!0:!1},checkValidDeviceCheckRequest:function(a,b,d){return"DFL"===
a||this.checkBuyBackAccordionRequest(a)&&b||d?!0:!1},checkDeviceCheckScreenAvailability:function(a,b){return"T1"!==a||"mobile"!==b&&"Mobile"!==b?!1:!0},setBuyBackDeviceCheckScreenImages:function(){var a=["https://m.media-amazon.com/images/G/31/buyback/device_check_screen/1.jpg","https://m.media-amazon.com/images/G/31/buyback/device_check_screen/2.jpg","https://m.media-amazon.com/images/G/31/buyback/device_check_screen/3.jpg","https://m.media-amazon.com/images/G/31/buyback/device_check_screen/4.jpg"];
if(null!==h(".device-check-image-container"))for(var b=h(".device-check-image-container").length,d=a.length,c=0;c<b;c++){var e=a[c%d],g=h(".device-check-image-container")[c].childNodes[1];null!==g&&null!==g.childNodes[1]&&g.childNodes[1].setAttribute("src",e)}},setBuyBackExchangeTip:function(a,b,d){if(this.checkValidDeviceCheckRequest(a,b,d)){a=localStorage.getItem("deviceCheckRejectWeblabTreatment");b=h("#buybackMobileExchangeTipT1Treatment");d=h("#buybackMobileExchangeTipT2Treatment");var c=h("#buybackMobileExchangeTip");
b&&d&&c&&("T1"===t.deviceCheckWeblabAllocation&&"T1"===a?(this.hide("buybackMobileExchangeTipT1Treatment","buybackMobileExchangeTipT2Treatment","buybackMobileExchangeTip"),this.show("buybackMobileExchangeTipT1Treatment"),this.setBuyBackDeviceCheckScreenImages()):"T1"===t.deviceCheckWeblabAllocation&&"T2"===a?(this.hide("buybackMobileExchangeTipT1Treatment","buybackMobileExchangeTipT2Treatment","buybackMobileExchangeTip"),this.show("buybackMobileExchangeTipT2Treatment"),this.setBuyBackDeviceCheckScreenImages()):
"T1"===t.deviceCheckWeblabAllocation&&(this.hide("buybackMobileExchangeTipT1Treatment","buybackMobileExchangeTipT2Treatment","buybackMobileExchangeTip"),this.show("buybackMobileExchangeTip")))}},convertAmountToIndianFormat:function(a){var b=parseInt(a);b=b.toString();a=b.substring(b.length-3);b=b.substring(0,b.length-3);""!==b&&(a=","+a);return b.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a},updateBuyBackPageState:function(){t=n.getUpdatedState()},isEmptyObjectKey:function(a,b){return a.hasOwnProperty(b)&&
a[b]!==m&&a[b]!==l.EMPTY_STRING&&a[b]!==l.EMPTY_SPACE_STRING},loadPageState:function(){p.lazyLoad()},roundToNearestTen:function(a){var b=1;0>a&&(b=-1);return 10*b*Math.round(Math.abs(a)/10)}}});"use strict";l.when("A").register("DiagnosticsState",function(e){return{_isPhoneRooted:null,_isAutoDetectSuccessfull:null,_clickedAlready:!1,_ranAutoDetection:!1,_ranPhoneRooted:!1,_imeiNumber:"",_deviceBrandName:"",_deviceModelName:"",_deviceModelId:"",_amazonAppVersion:"",_androidVersion:"",_hiddenRowHTML:"",
_lastHiddenElem:null,_shouldRunAutoDetect:!0}});"use strict";l.when("A","a-button","buyback-util","bbMetric","BBPageState","DiagnosticsState","Logger","gep-util","buyBackConstants","buyBackPageStateStatic").register("DiagnosticsUtils",function(e,n,g,b,p,c,h,l,K){h.log("DiagnosticsUtils file");var a=e.$,r=K.vsxConstants;return{buyBackState:p.get(),setupNonAutoDetectAccordionRowCallback:null,startDiagnosticsFlow:function(){h.log("startDiagnosticsFlow");"function"!==typeof submitDiagnosticsForm&&(document.getElementById("backUrl").value=
t.location.href,document.getElementById("diagnosticsForm").submit())},getAndroidVersion:function(){h.log("getAndroidVersion");var a=navigator.userAgent.match(/Android[\/]*[\d\.]+/),b="0.0";null!==a&&null!==a[0]&&(a=a[0].split("/"),null!==a&&(b=a[1]));return parseFloat(b,10)},getAmazonAppVersion:function(){h.log("getAmazonAppVersion");var a=navigator.userAgent.match(/Amazon.com[\/]*[\d\.]+/),b="0.0";null!==a&&null!==a[0]&&(a=a[0].split("/"),null!==a&&(b=a[1]));return parseFloat(b.split(".")[0]+"."+
b.split(".")[1],10)},checkPhoneRootedAPI:function(){h.log("checkPhoneRootedAPI");t.cordova.require("cordova/exec")(this.phoneRootedCallbackSuccess.bind(this),this.phoneRootedCallbackError.bind(this),"MShopMobileAutoDiagnostic","isPhoneRooted",{})},runAutoDetectionAPI:function(){h.log("runAutoDetectionAPI");t.cordova.require("cordova/exec")(this.autoDetectCallback.bind(this),this.autoDetectCallback.bind(this),"MShopMobileAutoDiagnostic","getAutoDetectPhoneInfo",{})},triggerAutoClick:function(){h.log("triggerAutoClick");
var a=document.getElementById("buyBackAccordionRow");null!==a&&a!==m&&a.classList.contains("a-accordion-active")&&!1===c._clickedAlready&&(c._clickedAlready=!0,this.primaryAccordionClick())},triggerAutoClickAfterDiagnostics:function(){h.log("triggerAutoClickAfterDiagnostics");if("BB"===this.buyBackState.programName){b.increment("BuyBack:mobile:autoDiagnosticRunSuccess:count");var d=a("#buyBackAccordionRow a.a-accordion-row");null!==d&&0<d.length&&a(d)[0].click()}},primaryAccordionClick:function(){h.log("primaryAccordionClick");
g.hide("autoDetectionAccordion");g.hide("withAutoDetection-accordion","withoutAutoDetection-accordion");n("#buyBackBuyNowButton").disable();g.hide("buyBackConfirmButton");if("BB"===this.buyBackState.programName){a("#autoDetectionAccordion").show();this.setHiddenRowInElement(a("#withoutAutoDetection-accordion .a-accordion-inner"));var b=a("#withAutoDetection-accordion a.a-accordion-row");g.show("withAutoDetection-accordion","withoutAutoDetection-accordion");null!==b&&0<b.length&&a(b)[0].click();a("#diagnosticsSpinnerDiv").hide();
g.show("autoDetectionAccordion")}else this.runAutoDetection()},runAutoDetection:function(){h.log("runAutoDetection");c._androidVersion=this.getAndroidVersion();c._amazonAppVersion=this.getAmazonAppVersion();5>c._androidVersion?b.increment("BuyBack:mobile:autoDetectionFailedOldAppAndroid:count"):12.7>c._amazonAppVersion?b.increment("BuyBack:mobile:autoDetectionFailedOldAppAmazon:count"):l.isGEPEligibleCustomer(this.buyBackState)?(b.increment("BuyBack:mobile:autoDetectionSkippedGEPCustomer:count"),
c._shouldRunAutoDetect=!1,this.showAutoDetectionResult()):(a("#diagnosticsSpinnerDiv").show(),g.hide("autoDetectionAccordion"),this.checkPhoneRootedAPI(),this.runAutoDetectionAPI())},addAutoDetectDataToState:function(){h.log("addAutoDetectDataToState");this.buyBackState.imeiNumber=c._imeiNumber;this.buyBackState.deviceBrandName=c._deviceBrandName;this.buyBackState.deviceModelName=c._deviceModelName;this.buyBackState.deviceModelId=c._deviceModelId;p._buyBackState=this.buyBackState},showAutoDetectionResult:function(){h.log("showAutoDetectionResult");
if(c._shouldRunAutoDetect&&(!1===c._ranPhoneRooted||!1===c._ranAutoDetection))return!1;a("#diagnosticsSpinnerDiv").hide();g.show("autoDetectionAccordion");if(!1===c._shouldRunAutoDetect||!1===c._isAutoDetectSuccessfull||!0===c._isPhoneRooted)a("#buybackAccordion").remove(),this.setHiddenRowInElement(a("#hidden-accordion-content")),a("#hidden-accordion-content").removeClass("aok-hidden");else{b.increment("BuyBack:mobile:autoDetectionShown:count");this.setHiddenRowInElement(a("#withoutAutoDetection-accordion .a-accordion-inner"));
var d=a("#withAutoDetection-accordion a.a-accordion-row");g.show("withAutoDetection-accordion","withoutAutoDetection-accordion");this.addAutoDetectDataToState();this.buyBackState.executingFeature!==m&&this.buyBackState.executingFeature===r.EXECUTING_FEATURE_NAME_VSX&&this.autoDetectionDeviceDetails();null!==d&&0<d.length&&a(d)[0].click()}},autoDetectionDeviceDetails:function(){var a={};a[r.DEVICE_BRAND]=c._deviceBrandName;a[r.DEVICE_MODEL]=c._deviceModelName;return a},setHiddenRowInElement:function(b){h.log("setHiddenRowInElement");
var d=!1;this.buyBackState.executingFeature!==m&&this.buyBackState.executingFeature===r.EXECUTING_FEATURE_NAME_VSX&&(d=!0);if(this.buyBackState.dflEligible&&!d&&null!==c._lastHiddenElem&&0===a("#hidden-accordion-content").html().length)return!1;h.log("setHiddenRowInElement:"+b.selector);a("#hidden-accordion-content").html("");c._lastHiddenElem=b;b.html(c._hiddenRowHTML);g.setBuyBackExchangeTip("BB",this.buyBackState.dflEligible,d);this.setupNonAutoDetectAccordionRowCallback()},autoDetectCallback:function(a){h.log("autoDetectCallback");
var d=!1;if(null===a.model||a.model===m)b.increment("BuyBack:mobile:autoDetectionFailedAPI:count"),h.log("BuyBack:mobile:autoDetectionFailedAPI:count"),d=!0;if(!d){var e=g.getModelNameFromModelId(a.model,a.brand).MobileModelName;null===e||e===m||""===e?(b.increment("BuyBack:mobile:autoDetectionFailedModel:count"),h.log("BuyBack:mobile:autoDetectionFailedModel:count"),d=!0):null===a.imeiNumber||a.imeiNumber===m||""===a.imeiNumber?(b.increment("BuyBack:mobile:autoDetectionFailedIMEI:count"),h.log("BuyBack:mobile:autoDetectionFailedIMEI:count"),
d=!0):(c._imeiNumber=a.imeiNumber,c._deviceBrandName=a.brand,c._deviceModelName=e,c._deviceModelId=a.model)}d||(a=this.setAutoDetectDiscount(c._deviceBrandName,c._deviceModelName),null!==a&&a!==m&&0!==a.discount)||(b.increment("BuyBack:mobile:autoDetectionFailedDiscount:count"),h.log("BuyBack:mobile:autoDetectionFailedDiscount:count"),d=!0);c._ranAutoDetection=!0;c._isAutoDetectSuccessfull=!d;this.showAutoDetectionResult()},phoneRootedCallbackSuccess:function(a){h.log("phoneRootedCallbackSuccess");
"true"===a.rootedStatus?(b.increment("BuyBack:mobile:autoDetectionFailedRooted:count"),c._isPhoneRooted=!0):c._isPhoneRooted=!1;c._ranPhoneRooted=!0;this.showAutoDetectionResult()},phoneRootedCallbackError:function(a){h.log("phoneRootedCallbackError");c._isPhoneRooted=!1;c._ranPhoneRooted=!0;b.increment("BuyBack:mobile:phoneRootedAPIFailed:count");this.showAutoDetectionResult()},bindDiagnosticsFunctionality:function(d,q,m){h.log("bindDiagnosticsFunctionality");this.buyBackState=!q||m?p.getUpdatedState():
p.get();this.setupNonAutoDetectAccordionRowCallback=d;var l=this;c._hiddenRowHTML=a("#hidden-accordion-content").html();a("#hidden-accordion-content").html("");h.log("Cleared hidden html");if(!q||m)a("#diagnosticsSpinnerDiv").show(),g.hide("autoDetectionAccordion"),c._clickedAlready=!0,l.primaryAccordionClick();else e.on("a:accordion:buybox-accordion:buyBackAccordionRow:select",function(b){a("#diagnosticsSpinnerDiv").show();g.hide("autoDetectionAccordion");c._clickedAlready=!0;l.primaryAccordionClick()});
a("#autoDiagnosticsIngress").click(function(){b.increment("BuyBack:mobile:runDiagnostic:click:count");l.startDiagnosticsFlow()});e.on("a2i_dpx:buyback:processBBPageState",function(){h.log("diagnostics:a2i_dpx:buyback:processBBPageState");l.buyBackState=p.getUpdatedState()});e.on("a:accordion:buybackAccordion:withAutoDetection-accordion:select",function(a){n("#buyBackBuyNowButton").disable();g.hide("buyBackConfirmButton");l.accordionClick()});this.triggerAutoClick();this.triggerAutoClickAfterDiagnostics()},
setAutoDetectDiscount:function(a,b){h.log("setAutoDetectDiscount");var d={discount:0,offerId:""};if(null!==this.buyBackState.buyBackExchangeItems&&this.buyBackState.buyBackExchangeItems!==m){for(var e=0;e<this.buyBackState.buyBackExchangeItems.length;e++){var g=this.buyBackState.buyBackExchangeItems[e];if(a.toUpperCase()===g.header.toUpperCase()){c._deviceBrandName=g.header;g=g.containedBuyBackProductNodes;for(var q=0;q<g.length;q++)if(b.toUpperCase()===g[q].header.toUpperCase())return d.discount=
g[q].buyBackProductDetails.buyBackOfferDetailsList[0].discountPrice,d.offerId=g[q].buyBackProductDetails.buyBackOfferDetailsList[0].offerId,d}}return d}},accordionClick:function(){h.log("accordionClick");"BB"!==this.buyBackState.programName?this.showADRowBeforeDiagnostics():(c._imeiNumber=this.buyBackState.imeiNumber,c._deviceBrandName=this.buyBackState.deviceBrandName,c._deviceModelName=this.buyBackState.deviceModelName,this.showADRowAfterDiagnostics())},showADRowBeforeDiagnostics:function(){h.log("showADRowBeforeDiagnostics");
g.hide("autoDiagnosticsIngress");a("#brand").text(c._deviceBrandName).removeClass("hide").addClass("show");a("#deviceBrand").val(c._deviceBrandName);a("#model").text(c._deviceModelName).removeClass("hide").addClass("show");a("#deviceModel").val(c._deviceModelName);a("#imei").val(c._imeiNumber);var d=this.setAutoDetectDiscount(c._deviceBrandName,c._deviceModelName),e=g.getSponsoredDiscount(this.buyBackState,d.offerId,d.discount,c._imeiNumber);a("#deviceBuyBackDiscount").val(parseFloat(d.discount));
a("#deviceSponsorDiscount").val(parseFloat(e));var l=g.getMaxDiagnosticsDiscount(this.buyBackState,c._imeiNumber);if(0===l||1>parseFloat(l.MaximumDiagnosticDiscount)){var v=parseFloat(d.discount)+parseFloat(e);d=parseFloat(this.buyBackState.productPrice)-(parseFloat(d.discount)+parseFloat(e));g.hide("autoDiagnosticsIngressRunDiagnosticText")}else null!==l.DisplayableDiagnosticDiscount&&0!==parseFloat(l.DisplayableDiagnosticDiscount,10)?(v=parseFloat(d.discount)+parseFloat(e)+parseFloat(l.DisplayableDiagnosticDiscount),
d=parseFloat(this.buyBackState.productPrice)-(parseFloat(d.discount)+parseFloat(e)+parseFloat(l.DisplayableDiagnosticDiscount)),a("#diagnosticsDiscountsReceivedValue").text(l.DisplayableDiagnosticDiscount),g.showInline("diagnosticsDiscountsReceivedText","diagnosticsDiscountsReceivedValue"),a("#maxDisplayedDiscountValue").val(l.MaximumDiagnosticDiscount),g.hide("autoDiagnosticsIngressRunDiagnosticText"),g.show("autoDiagnosticsIngressRunAgainText")):(v=parseFloat(d.discount)+parseFloat(e),d=parseFloat(this.buyBackState.productPrice)-
(parseFloat(d.discount)+parseFloat(e)),g.showInline("getAdditionalDiagnosticsDiscountText","getAdditionalDiscountvalue"),a("#getAdditionalDiscountvalue").text(l.MaximumDiagnosticDiscount),a("#maxDisplayedDiscountValue").val(l.MaximumDiagnosticDiscount));0!==parseFloat(e)&&(a("#mdSponsoredDiscountValue").text(parseFloat(e)),g.showInline("mdSponsoredDiscountValue"),g.show("mdSponsoredDiscountText"),b.increment("BuyBack::shouldDisplaySponsorMessage:count"));this.applyChargeFee();if(""!==this.buyBackState.convenienceFee){if(e=
Number(this.buyBackState.convenienceFee),d+=parseFloat(this.buyBackState.convenienceFee),a("#isBuyBackFee")[0]===m?this.addBuyBackFeeAsDigitalToBuyBackForm():this.setCustomKeyValueForFeeAsin(),g.show("buyBackConvenienceFeeTextSection"),a("#buyBackConvenienceFeeTextSection #convenienceFeeCharge").text(e),!this.buyBackState.dflEligible||this.buyBackState.executingFeature!==m&&this.buyBackState.executingFeature===r.EXECUTING_FEATURE_NAME_VSX)g.show("buyBackConvenienceFeeTextSectionForSOPP","mdBuyBackConvenienceFeeTextSectionForSOPP"),
a("#buyBackConvenienceFeeTextSectionForSOPP #convenienceFeeCharge").text(e),a("#mdBuyBackConvenienceFeeTextSectionForSOPP #convenienceFeeCharge").text(e)}else this.resetFeeFormParams();this.buyBackState.deviceTotalDiscount=v;p._buyBackState=this.buyBackState;g.show("autoDiagnosticsIngress");a("#mdTotalDiscountValue").text(v);g.showInline("mdTotalDiscountCurrency","mdTotalDiscountValue");a("#priceAfterBuyBackDiscount").text(g.getFormattedPrice(d));g.hide("maxBuyBackDiscountSection");g.show("priceAfterBuyBackDiscountSection");
n("#buyBackBuyNowButton").enable();g.show("buyBackConfirmButton")},addBuyBackFeeAsDigitalToBuyBackForm:function(){a("#buyBackBuyNow").append('\x3cinput type\x3d"hidden" id\x3d"isBuyBackKey" name\x3d"custom-name.2.1" value\x3d"UNIQ-buyBack"\x3e\x3cinput type\x3d"hidden" id\x3d"isBuyBackFee" name\x3d"custom-value.2.1" value\x3d"BuyBackFee"\x3e')},setCustomKeyValueForFeeAsin:function(){a("#isBuyBackKey").val("UNIQ-buyBack");a("#isBuyBackFee").val("BuyBackFee")},resetFeeFormParams:function(){a("#isBuyBackKey")[0]!==
m&&a("#isBuyBackKey")[0].value!==m&&a("#isBuyBackKey").val("");a("#isBuyBackFee")[0]!==m&&a("#isBuyBackFee")[0].value!==m&&a("#isBuyBackFee").val("")},applyChargeFee:function(){var c=this.buyBackState.buyBackCategory.toLowerCase()+"_mobile";this.buyBackState.convenienceFee="";if(this.buyBackState.feeMap===m)c="BuyBack:mobile:noEntryExistsFor"+this.buyBackState.buyBackCategory.toLowerCase()+":count",b.increment(c);else if(this.buyBackState.feeMap.map[c]===m)b.increment("BuyBack:mobile:noEntryExistsFor"+
c+":count");else if(!0===this.buyBackState.feeMap.map[c].feeEnabled){this.buyBackState.convenienceFee=this.buyBackState.feeMap.map[c].price;a("#feeAsinPrice").val(this.buyBackState.convenienceFee);var e=this.buyBackState.pageLoadAsinList+"|"+this.buyBackState.feeMap.map[c].asin;a("#buyBackBuyNow #a").val(e);c=this.buyBackState.pageLoadOfferingIdList+"|"+this.buyBackState.feeMap.map[c].offeringId;a("#buyBackBuyNow #oid").val(c);c=this.buyBackState.pageLoadQuantity+"|1";a("#buyBackBuyNow #quantity").val(c)}else b.increment("BuyBack:mobile:feeDisabledFor"+
c+":count")},showADRowAfterDiagnostics:function(){h.log("showADRowAfterDiagnostics");a("#brand").text(c._deviceBrandName).removeClass("hide").addClass("show");a("#deviceBrand").val(c._deviceBrandName);a("#model").text(c._deviceModelName).removeClass("hide").addClass("show");a("#deviceModel").val(c._deviceModelName);a("#imei").val(c._imeiNumber);if(isNaN(this.buyBackState.deviceSponsoredDiscount)||null===this.buyBackState.deviceSponsoredDiscount||""===this.buyBackState.deviceSponsoredDiscount)this.buyBackState.deviceSponsoredDiscount=
"0.0";var b=parseFloat(this.buyBackState.deviceBuyBackDiscount,10)+parseFloat(this.buyBackState.deviceSponsoredDiscount,10)+parseFloat(this.buyBackState.deviceDiagnosticsDiscount,10);this.buyBackState.deviceTotalDiscount=b;p._buyBackState=this.buyBackState;a("#mdTotalDiscountValue").text(b);g.showInline("mdTotalDiscountCurrency","mdTotalDiscountValue");a("#diagnosticsDiscountsReceivedValue").text(this.buyBackState.deviceDiagnosticsDiscount);g.showInline("diagnosticsDiscountsReceivedText","diagnosticsDiscountsReceivedValue");
b=parseFloat(this.buyBackState.devicePriceAfterDiagnostics,10);this.applyChargeFee();if(""!==this.buyBackState.convenienceFee){var e=Number(this.buyBackState.convenienceFee);b+=parseFloat(this.buyBackState.convenienceFee);a("#isBuyBackFee")[0]===m?this.addBuyBackFeeAsDigitalToBuyBackForm():this.setCustomKeyValueForFeeAsin();g.show("buyBackConvenienceFeeTextSection");a("#buyBackConvenienceFeeTextSection #convenienceFeeCharge").text(e);if(!this.buyBackState.dflEligible||this.buyBackState.executingFeature!==
m&&this.buyBackState.executingFeature===r.EXECUTING_FEATURE_NAME_VSX)g.show("buyBackConvenienceFeeTextSectionForSOPP","mdBuyBackConvenienceFeeTextSectionForSOPP"),a("#buyBackConvenienceFeeTextSectionForSOPP #convenienceFeeCharge").text(e),a("#mdBuyBackConvenienceFeeTextSectionForSOPP #convenienceFeeCharge").text(e)}else this.resetFeeFormParams();a("#priceAfterBuyBackDiscount").text(g.getFormattedPrice(b));g.hide("maxBuyBackDiscountSection");g.show("priceAfterBuyBackDiscountSection");b=g.getMaxDiagnosticsDiscount(this.buyBackState,
c._imeiNumber);a("#maxDisplayedDiscountValue").val(b.MaximumDiagnosticDiscount);g.hide("autoDiagnosticsIngressRunDiagnosticText");g.show("autoDiagnosticsIngressRunAgainText");n("#buyBackBuyNowButton").enable();g.show("buyBackConfirmButton")}}});"use strict";l.when("A","a-button","BBPageState","bbMetric","buyback-util","buyBackPageStateStatic").register("gep-util",function(e,n,g,b,p){var c=e.$;g.init();e={bbPageState:g.get(),isGEPEligibleCustomer:function(b){return"undefined"===typeof b?this.bbPageState.gepEligibleCustomer:
b.gepEligibleCustomer},showGEPInfoDiv:function(c){c.selectedBuyBackOfferData.gepEligibleBrandModel&&(0===c.selectedBuyBackOfferData.discountPrice?this.showGEPDivsWhenRegularExchangeNotPresent():(p.hide("buyBackVerifyIMEIText","buyBackGEPIMEISuccessAlert","buyBackGEPNotEligibleAlert","buyBackGEPSuccessNotes"),p.show("buyBackGEPIMEIInfoAlert"),b.increment("BuyBack::gepInfoShown:count"),b.increment("BuyBack:GEP:gepEligibleBrandModelSelected:count")))},showGEPDivsWhenRegularExchangeNotPresent:function(){p.hide("priceAfterBuyBackDiscountSection",
"buyBackOfferAppliedSuccess","buyBackExchangeMightBeEligibleText","buyBackCollectOldProductDetailsText","buyBackVerifyIMEIText","buyBackGEPIMEISuccessAlert","buyBackGEPNotEligibleAlert","buyBackGEPSuccessNotes");p.show("maxBuyBackDiscountSection","buyBackGEPIMEIInfoAlert","buyBackDetailsVerifyText");b.increment("BuyBack:GEP:brandModelshownWhenExchangeOfferNotPresent:count");b.increment("BuyBack:GEP:gepEligibleBrandModelSelected:count")},showGEPDivPostIMEIValidation:function(e){b.increment("BuyBack:GEP:IMEIVerifiedWithCashify:count");
e.discountAppliedText?e.gepSuccessNoteText?(c("#buyBackGEPIMEISuccessAlert span").html(e.discountAppliedText),c("#buyBackGEPSuccessNotes span").html(e.gepSuccessNoteText),p.show("buyBackGEPIMEISuccessAlert","buyBackGEPSuccessNotes"),p.hide("buyBackOfferAppliedSuccess","buyBackGEPNotEligibleAlert"),b.increment("BuyBack:GEP:successNoteShown:count")):e.gepFailureNoteText?(b.increment("BuyBack:GEP:gepNotEligible:count"),c("#buyBackGEPNotEligibleAlert").html(e.gepFailureNoteText),p.hide("buyBackGEPIMEISuccessAlert"),
p.show("buyBackGEPNotEligibleAlert","buyBackOfferAppliedSuccess")):(b.increment("BuyBack:GEP:EmptySucessAndFailureNote:count"),p.hide("buyBackGEPIMEISuccessAlert","buyBackGEPNotEligibleAlert"),p.show("buyBackOfferAppliedSuccess")):(p.hide("buyBackIMEISection","buyBackOfferAppliedSuccessText","buyBackSponsoredDiscountText"),p.show("buyBackExchangeMightBeEligibleText","buyBackOfferAppliedSuccess"),n("#buyBackBuyNowButton").disable(),b.increment("BuyBack:GEP:gepNotEligibleWhenRegularExchangeNotPresent:count"))}};
0===c("#buyBackExchangeMightBeEligibleText").length&&0<c("#buyBackOfferAppliedSuccess").length&&c("#buyBackOfferAppliedSuccess").append('\x3cspan id\x3d"buyBackExchangeMightBeEligibleText" class\x3d"a-size-mini hide"\x3e\x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error a-spacing-top-mini"\x3e\x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\x3cdiv class\x3d"a-alert-content"\x3e\x3cspan class\x3d"a-size-base"\x3eYour device is not eligible for exchange. Select a different model.\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e');
return e});"use strict";l.when("A").register("Logger",function(e){return{_enable:!1,log:function(e){this._enable&&console.log(e)}}});"use strict";l.when().register("SOPPHelper",function(){return{loadPageState:function(){}}});"use strict";l.when("A","BBPageState","buyBackPageStateStatic").execute(function(e,n){function g(){c(h).unbind("click").click(function(){p||(p=1,c("#bb-warranty-container").append(c(l+" #addToCart #abbWrapper")))});c(l).unbind("click").click(function(){p&&(p=0,1===t.length&&a.before(c("#bb-warranty-container #abbWrapper")))})}
function b(){0<c("#withExchangeOffer-accordion").length?(h="#withExchangeOffer-accordion",l="#withoutExchangeOffer-accordion",t=c(l+" #addToCart").children(".a-section")):(h="#buyBackAccordionRow",l="#newAccordionRow",t=c(l+" #addToCart  #desktop_qualifiedBuyBox").children(".a-section"));a=c(l+" #addToCart #abbWrapper").next()}var p=0,c=e.$,h="",l="",t="",a=null;n.init();n=n.get();n!==m&&"T1"===n.warrantyWeblabTreatment&&!0===n.hasValidBuyBackOffers&&(b(),g(),e.on("a:pageUpdate",function(){p=0;b();
g()}))});l.when("A").execute(function(e){function l(){g("#buyBackBuyNowButton").unbind("click").click(function(){var b=g("#buyBackBuyNow"),e=b.find('input[name\x3d"itemCount"]');0===e.length?b.append('\x3cinput type\x3d"hidden" name\x3d"itemCount" value\x3d"14"\x3e'):e[0].value=14})}var g=e.$;l();e.on("a2i_dpx:buyback:processBBPageState",function(){l()})});"use strict";l.when("A","buyBackConstants","valueCommensurateConstants","Logger","bbMetric","atf").register("valueCommensurateUtils",function(e,
m,g,b,p){var c=m.common,h=m.RTLAErrorStatus,n=g.cssClass,t=g.common,a=g.action,r=g.metricName;return{toggleOff:function(a){b.log("toggleOff");a.removeClass(n.TOGGLE_ON).addClass(n.TOGGLE_OFF)},toggleOn:function(a){b.log("toggleOn");a.removeClass(n.TOGGLE_OFF).addClass(n.TOGGLE_ON)},renderValueCommensurateManualBucketTemplates:function(d){b.log("renderValueCommensurateManualBucketTemplates");e.ajax(t.RENDER_MANUAL_BUCKET_TEMPLATES_URL,{method:c.POST,params:{buyBackItemId:d.buyBackItemId,totalBuyBackDiscount:d.totalBuyBackDiscount,
baseBuyBackDiscount:d.baseBuyBackDiscount,buyBackCategory:d.buyBackCategory,deviceType:d.deviceType},success:function(b){p.increment(r.RENDER_MANUAL_BUCKET_TEMPLATES_SUCCESS);var c={};c.html=b;c.loadedSuccessfully=!0;e.trigger(a.VALUE_COMMENSURATE_TEMPLATE_RENDERED,c)},error:function(b){p.increment(r.RENDER_MANUAL_BUCKET_TEMPLATES_FAILURE);e.trigger(a.VALUE_COMMENSURATE_TEMPLATE_RENDERED,{html:"",loadedSuccessfully:!1});l.log("Caught error in renderValueCommensurateManualBucketTemplates, Error: "+
JSON.stringify(b),h.ERROR,"valueCommensurateUtils")}})},saveValueCommensurateCustomerData:function(a){b.log("saveValueCommensurateCustomerData");a={buyBackItemId:a.buyBackItemId,buyBackCategory:a.buyBackCategory,requestId:a.requestId,campaignId:a.campaignId,listOfManualDefects:JSON.stringify(a.listOfManualDefects)};e.ajax(t.SAVE_VALUE_COMMENSURATE_CUSTOMER_DATA_URL,{method:c.POST,params:a,success:function(a){p.increment(r.SAVE_VALUE_COMMENSURATE_CUSTOMER_DATA_SUCCESS)},error:function(a){p.increment(r.SAVE_VALUE_COMMENSURATE_CUSTOMER_DATA_FAILURE);
l.log("Caught error in saveValueCommensurateCustomerData, Error: "+JSON.stringify(a),h.ERROR,"valueCommensurateUtils")}})},getVCHandlerDataFromBuyBackData:function(a){var b={},d=a.selectedBuyBackOfferData.offerId.split(c.DELIMITER);d=d[4]+c.DELIMITER+d[5];b.buyBackCategory=a.buyBackCategory;b.buyBackItemId=d;b.requestId=a.valueCommensurateRequestId;b.deviceType=c.DEVICE_TYPE;b.totalBuyBackDiscount=a.selectedBuyBackOfferData.discountPrice+a.totalSponsoredValue+a.purchaseHistoryDiscount;b.baseBuyBackDiscount=
a.selectedBuyBackOfferData.discountPrice+a.purchaseHistoryDiscount;return b}}});"use strict";l.when("A","a-dropdown").register("bb-first-dropdown",function(e,l){var g=e.$;return{loadOptions:function(b){var e=l.getSelect("buyBackDropDown1");e&&g.each(b,function(b,g){e.addOption({text:g.header,value:g.header},b)})}}})});
/* ******** */
(function(a,b,c){a.guardFatal(function(){a.when("A","ready").register("CashOnDeliveryJS",function(a){var b=!1;a.on("DDM_OnAddressChangeToCOD",function(c){var d=a.state("cashOnDeliveryPageState");a.$.isEmptyObject(d)||(b=d.isCodRestrictedGl);b||(c.supportsCODDelivery?a.$("#cod_eligible_message").removeClass("a-hidden"):a.$("#cod_eligible_message").addClass("a-hidden"))})})})()})(function(){var a=window.AmazonUIPageJS||window.P,b=a._namespace||a.attributeErrors;return b?b("CashOnDeliveryAssets"):a}(),
window);
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageAGSAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(g){var e=window.AmazonUIPageJS||window.P,m=e._namespace||e.attributeErrors,f=m?m("DetailPageCmrsAssets",""):e;f.guardFatal?f.guardFatal(g)(f,window):f.execute(function(){g(f,window)})})(function(g,e,m){g.when("jQuery","a-popover","cf").register("cmrs-event-provider",function(f,e){return{registerLazyLoaderEvent:function(){f(document).delegate("#cmrsSummary-popover","mouseenter",function(){if(!e.get(f(this))){var c=f("#cmrsSummary-popover-data-holder"),a='            \x3cdiv class\x3d"a-fixed-left-grid"\x3e\x3cdiv class\x3d"a-fixed-left-grid-inner" style\x3d"padding-left:200px"\x3e                \x3cdiv class\x3d"a-fixed-left-grid-col a-col-left" style\x3d"width:200px;margin-left:-200px;_margin-left:-100px;float:left;"\x3e                    \x3cdiv class\x3d"a-section a-spacing-small a-text-center"\x3e                        \x3cspan class\x3d"a-size-base a-color-secondary"\x3e%CMRS-SUMMARY-TITLE%\x3c/span\x3e                    \x3c/div\x3e                    \x3ctable class\x3d"a-normal a-align-center a-spacing-base"\x3e                            \x3ctbody\x3e\x3ctr class\x3d"a-histogram-row"\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                        \x3cspan class\x3d"a-size-small a-color-base"\x3e%FIVE-STAR%\x3c/span\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-span10"\x3e                                    \x3cdiv class\x3d"a-meter" aria-label\x3d"%FIVE-PCT%%"\x3e\x3cdiv class\x3d"a-meter-bar a-meter-filled" style\x3d"width: %FIVE-PCT%%;"\x3e\x3c/div\x3e\x3c/div\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e%FIVE-COUNT%\x3c/td\x3e                            \x3c/tr\x3e                            \x3ctr class\x3d"a-histogram-row"\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                        \x3cspan class\x3d"a-size-small a-color-base"\x3e%FOUR-STAR%\x3c/span\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-span10"\x3e                                    \x3cdiv class\x3d"a-meter" aria-label\x3d"%FOUR-PCT%%"\x3e\x3cdiv class\x3d"a-meter-bar a-meter-filled" style\x3d"width: %FOUR-PCT%%;"\x3e\x3c/div\x3e\x3c/div\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e%FOUR-COUNT%\x3c/td\x3e                            \x3c/tr\x3e                            \x3ctr class\x3d"a-histogram-row"\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                        \x3cspan class\x3d"a-size-small a-color-base"\x3e%THREE-STAR%\x3c/span\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-span10"\x3e                                    \x3cdiv class\x3d"a-meter" aria-label\x3d"%THREE-PCT%%"\x3e\x3cdiv class\x3d"a-meter-bar a-meter-filled" style\x3d"width: %THREE-PCT%%;"\x3e\x3c/div\x3e\x3c/div\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e%THREE-COUNT%\x3c/td\x3e                            \x3c/tr\x3e                            \x3ctr class\x3d"a-histogram-row"\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                        \x3cspan class\x3d"a-size-small a-color-base"\x3e%TWO-STAR%\x3c/span\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-span10"\x3e                                    \x3cdiv class\x3d"a-meter" aria-label\x3d"%TWO-PCT%%"\x3e\x3cdiv class\x3d"a-meter-bar a-meter-filled" style\x3d"width: %TWO-PCT%%;"\x3e\x3c/div\x3e\x3c/div\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e%TWO-COUNT%\x3c/td\x3e                            \x3c/tr\x3e                            \x3ctr class\x3d"a-histogram-row"\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                        \x3cspan class\x3d"a-size-small a-color-base"\x3e%ONE-STAR%\x3c/span\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-span10"\x3e                                    \x3cdiv class\x3d"a-meter" aria-label\x3d"%ONE-PCT%%"\x3e\x3cdiv class\x3d"a-meter-bar a-meter-filled" style\x3d"width: %ONE-PCT%%;"\x3e\x3c/div\x3e\x3c/div\x3e                                \x3c/td\x3e                                \x3ctd class\x3d"a-nowrap"\x3e                                    \x3cspan class\x3d"a-letter-space"\x3e\x3c/span\x3e%ONE-COUNT%\x3c/td\x3e                            \x3c/tr\x3e                    \x3c/tbody\x3e\x3c/table\x3e                    \x3cdiv class\x3d"a-section a-spacing-none a-text-center"\x3e                        \x3cspan class\x3d"a-size-base a-color-secondary"\x3e                                    \x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e\x3c/div\x3e'.replace(/%CMRS-SUMMARY-TITLE%/g,
c.data("title")),a=a.replace(/%FIVE-STAR%/g,c.data("five-star")),a=a.replace(/%FOUR-STAR%/g,c.data("four-star")),a=a.replace(/%THREE-STAR%/g,c.data("three-star")),a=a.replace(/%TWO-STAR%/g,c.data("two-star")),a=a.replace(/%ONE-STAR%/g,c.data("one-star")),k=c.data("five-count"),l=c.data("four-count"),g=c.data("three-count"),b=c.data("two-count"),n=c.data("one-count"),d=c.data("total-count"),a=a.replace(/%FIVE-COUNT%/g,k),a=a.replace(/%FOUR-COUNT%/g,l),a=a.replace(/%THREE-COUNT%/g,g),a=a.replace(/%TWO-COUNT%/g,
b),a=a.replace(/%ONE-COUNT%/g,n),a=a.replace(/%FIVE-PCT%/g,parseInt(k/d*100,10)),a=a.replace(/%FOUR-PCT%/g,parseInt(l/d*100,10)),a=a.replace(/%THREE-PCT%/g,parseInt(g/d*100,10)),a=a.replace(/%TWO-PCT%/g,parseInt(b/d*100,10)),a=a.replace(/%ONE-PCT%/g,parseInt(n/d*100,10)),c={inlineContent:a,name:"cmrsSummary-popover",closeButton:!1,position:"triggerBottom",popoverLabel:c.data("title")};e.create(f(this),c)}})}}});"use strict";g.when("A","jQuery","cmrs-event-provider","ready").register("cmrs-loader",
function(f,g,c){var a=e.ue,k=e.uet,l=e.ues,m=e.uex;return{load:function(b){if(b&&b.sa){var e="w"==b.dt?"web":"mobile",d={};d.asin=b.sa;d.deviceType=e;"mobile"==e&&(d.isStarSmallOrigin="1"==b.ss?"true":"false",d.isHardlinesNewDesign="1"==b.hn?"true":"false",d.newMobileATFEnabled="1"==b.nm?"true":"false",d.judgeStarSmall="1"==b.jss?"true":"false",d.judgeStarMini="1"==b.jsm?"true":"false",d.judgeSoftlinesNewStyle="1"==b.jsn?"true":"false","-1"!=b.pa&&(d.mobileExpanderPath=b.pa),"-1"!=b.cw&&(d.fixedColumnWidth=
b.cw));var h="cmrs-summary-ajax:"+e,q=h+":fetchDataError",p={logBeginAjaxCall:function(){a&&"function"===typeof k&&k("tc",h)},logResponseStart:function(){a&&"function"===typeof l&&(l("id",h,a.rid),l("t0",h,new Date),l("ctb",h,"1"))},logResponseEnd:function(){a&&"function"===typeof k&&k("be",h)},logDataLoaded:function(){a&&"function"===typeof m&&(a.tag("cmrsSummaryLazyLoader:ajax:flow",h),m("ld",h))},logFetchError:function(){a&&a.count&&a.count(q,1)},fetchLazyLoaderContent:function(a,c){var b=this;
b.logBeginAjaxCall();f.ajax("/gp/global-store/cmrs/ajax/get-cmrs-lazy-loader-content.html",{method:"get",cache:!1,params:a,success:function(a){a?(b.logResponseStart(),b.logResponseEnd(),c&&c(a)):b.logFetchError()},error:function(a){b.logFetchError()}})}};p.fetchLazyLoaderContent(d,function(a){"web"==e?g("#cmrsSummary_feature_div").html(a):g("#mfd").replaceWith(a);c.registerLazyLoaderEvent();p.logDataLoaded()})}}}})});
/* ******** */
(function(d){var c=window.AmazonUIPageJS||window.P,b=c._namespace||c.attributeErrors,a=b?b("DetailPageFtmAssets"):c;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,c,b){d.when("A","Airy","ready").execute(function(a,d){var c=a.state("airyAssets"),b=a.state("ftmVideos");c&&b&&function(){var h=c.airySwfUrl,e=c.airyCssUrl;0<b.length&&(e=a.$("\x3clink\x3e").attr("rel","stylesheet").attr("href",e),a.$("head").append(e));a.each(b,function(a){var c=a.parentId,b=a.metrics,
f=a.resources,e=a.backgroundColor,k=a.initialVolume;a=b.client;var l=b.marketplaceId,m=b.requestId,b=b.session,n=f.mediaUrl,p=f.postMediaSlateUrl,f=f.preMediaSlateUrl,q=d.isMobilePlatform()?"MobileDetailPage":"DetailPage",g=void 0,g=d.embed({parentId:c,mediaSourceInfo:n,swfUrl:h,slateImages:{preloadSlate:f,postMediaSlate:p},backgroundColor:e||"transparent",foresterMetadataParams:{client:a,method:q,marketplaceId:l,requestId:m,session:b},bindings:{canplay:function(){g.setVolume(k)},play:function(){d.isMobilePlatform()&&
g.enterFullScreen()}}})})}()})});
/* ******** */
(function(g){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,l=n?n("DetailPageHNBAssets",""):m;l.guardFatal?l.guardFatal(g)(l,window):l.execute(function(){g(l,window)})})(function(g,m,n){g.when("A","postMetric","faddAjaxCallConstants","faddAjaxCallUtil").execute(function(l,k,c,d){function e(a){d.shouldHidePromiseMessage()||(a?(p("#fadd").text(h.scheduledDeliveryMessage).css("font-weight","bold").append(a).append("\x3cb\x3e"+h.scheduledDeliveryCheckoutMessage+"\x3c/b\x3e\x26nbsp;").append("\x3ca href\x3d'"+
c.DETAILSLINKMOBILE+"'\x3e"+h.detailsString+"\x3c/a\x3e"),k.postCountMetric("FADDMobileSDMessageShown")):h.isSTDAvailable?(r(h),k.postCountMetric("FADDMobileSTDMessageShown"),d.logPromiseForOnlySTD()):t())}function f(a,b){a?e(d.successOnAjaxCallToGetSlotsAPI(a,b)):h.isSTDAvailable?(r(h),k.postCountMetric("FADDMobileSTDMessageShown"),d.logPromiseForOnlySTD()):t()}function t(){var a,b,d;h.zipCode&&h.cityName?(a="\x3cspan\x3e"+h.sdNoSlotsAvailablePrefixMessage+"\x26nbsp;\x3c/span\x3e",b="\x3cspan\x3e\x3cb\x3e"+
h.zipCode+"\x26nbsp;-\x26nbsp;"+h.cityName+"\x26nbsp;\x3c/b\x3e\x3c/span\x3e",d="\x3cspan\x3e"+h.sdNoSlotsAvailableSuffixMessage+"\x3c/span\x3e",p("#fadd").text("").append(a).append(b).append(d).css("color","#FF0000")):h.zipCode&&(a="\x3cspan\x3e"+h.sdNoSlotsAvailablePrefixMessage+"\x26nbsp;\x3c/span\x3e",b="\x3cspan\x3e\x3cb\x3e"+h.zipCode+"\x26nbsp;\x3c/b\x3e\x3c/span\x3e",d="\x3cspan\x3e"+h.sdNoSlotsAvailableSuffixMessage+"\x3c/span\x3e",p("#fadd").text("").append(a).append(b).append(d).css("color",
"#FF0000"));p("#fadd").append("\x26nbsp;\x3ca href\x3d'"+c.WHYLINKMOBILE+"'\x3eWhy?\x3c/a\x3e");k.postCountMetric("FADDMobileUnavailableMessageWhenSDAvailableSTDUnavialable")}function a(a,b){--g;a&&!a.errorMsg&&a.ids?(q=a,"scheduled-delivery-in"===b&&n?0===g?e(d.successOnAjaxCallToGetSlotsAPI(q,b)):n.abort():"scheduled-delivery-in-prepaid"===b&&m?0===g&&e(d.successOnAjaxCallToGetSlotsAPI(q,b)):e(d.successOnAjaxCallToGetSlotsAPI(q,b))):0===g&&f(q,b)}function b(b,d){m=null!=b&&p.ajax({url:c.AJAXCALLURL,
type:"POST",dataType:"JSON",data:b,success:function(b){a(b,"scheduled-delivery-in")},error:function(){f(q,"scheduled-delivery-in-prepaid")},timeout:2E4});n=null!=d&&p.ajax({url:c.AJAXCALLURL,type:"POST",dataType:"JSON",data:d,success:function(b){a(b,"scheduled-delivery-in-prepaid")},error:function(){f(q,"scheduled-delivery-in")},timeout:2E4})}function r(a){d.renderStandardDeliveryMessage(a.standardDeliveryINActualPromiseMsg?a.standardDeliveryINActualPromiseMsg:a.standardDeliveryMessage)}var p=l.$,
h={},g,m,n,q,u=function(){h.isSDAvailable&&h.isSecondarySDAvailable?(g=2,b(h.getSlotArgs,h.getSecondarySlotArgs)):h.isSDAvailable?(g=1,b(h.getSlotArgs,null)):h.isSecondarySDAvailable?(g=1,b(null,h.getSecondarySlotArgs)):h.isSTDAvailable?(r(h),k.postCountMetric("FADDMobileSTDMessageShown"),d.logPromiseForOnlySTD()):k.postCountMetric("FADDMobileWhenSDAndSTDBothsUnavialable")},h=d.init();u();l.on("a:pageUpdate",function(){h=d.init();p("#fadd").text().trim()||u()})});"use strict";g.when("A").register("faddAjaxCallConstants",
function(){return{SDMESSAGE:"Get delivery by",SDCHECKOUTMESSAGE:"Schedule a convenient slot at checkout.",AJAXCALLURL:"/gp/product/features/scheduled-delivery/get-slots-json.html?powerbar\x3d0\x26sourcePage\x3dDetail",MONTHNAMES:"January February March April May June July August September October November December".split(" "),DAYNAMES:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STDMESSAGE:"Get delivery in 3-5 business days.",SDNOSLOTSPREFIXMESSAGE:"Delivery to",SDNOSLOTSSUFFIXMESSAGE:"is currently not available for this item.",
WHYLINKDESKTOP:"/gp/help/customer/display.html/ref\x3dddm_undeliverable_dp?ie\x3dUTF8\x26nodeId\x3d200966130\x26pop-up\x3d1#",WHYLINKMOBILE:"/gp/help/customer/display.html/ref\x3dddm_undeliverable_dp?ie\x3dUTF8\x26nodeId\x3d200966130#",DETAILSLINKDESKTOP:"/gp/help/customer/display.html/ref\x3dddm_not_ft_dp?ie\x3dUTF8\x26nodeId\x3d200534000\x26pop-up\x3d1#",DETAILSLINKMOBILE:"/gp/help/customer/display.html/ref\x3dddm_not_ft_dp?ie\x3dUTF8\x26nodeId\x3d200534000#",DETAILS:"Details"}});"use strict";g.when("A",
"faddAjaxCallConstants","metricConstants","domConstants").execute(function(l,k,c,d){g.now().register("faddAjaxCallUtil",function(){var e=l.$,f={},g={isSDAvailable:!1,isSecondarySDAvailable:!1,isSTDAvailable:!1,standardDeliveryMessage:k.STDMESSAGE,scheduledDeliveryMessage:k.SDMESSAGE,scheduledDeliveryCheckoutMessage:k.SDCHECKOUTMESSAGE,sdNoSlotsAvailablePrefixMessage:k.SDNOSLOTSPREFIXMESSAGE,sdNoSlotsAvailableSuffixMessage:k.SDNOSLOTSSUFFIXMESSAGE,detailsString:k.DETAILS};f.init=function(){g.isSTDAvailable=
f.isValueTrue(e(d.faddIsSTDAvailable).val());g.isSecondarySDAvailable=f.isValueTrue(e(d.faddIsSecondarySDAvailable).val());g.isSDAvailable=f.isValueTrue(e(d.faddIsSDAvailable).val());g.standardDeliveryMessage=e(d.faddStandardDeliveryMessage).val()||k.STDMESSAGE;g.scheduledDeliveryMessage=e(d.faddScheduledDeliveryMessage).val()||k.SDMESSAGE;g.detailsString=e(d.faddDetails).val()||k.DETAILS;g.scheduledDeliveryCheckoutMessage=e(d.faddScheduledDeliveryCheckoutMessage).val()||k.SDCHECKOUTMESSAGE;g.cityName=
e(d.faddCityName).val()?e(d.faddCityName).val():"";g.standardDeliveryINActualPromiseMsg=e(d.faddStandardDeliveryINActualPromiseMsg).val();var a={},b;a.marketplace=e(d.faddMarketplace).val()?e(d.faddMarketplace).val():"";a.shipoption=e(d.faddShipOption).val()?e(d.faddShipOption).val():"";a.merchant=e(d.faddMerchant).val()?e(d.faddMerchant).val():"";a.offerListingID=e(d.faddOfferListingID).val()?e(d.faddOfferListingID).val():"";a.quantity=e(d.faddQuantity).val()?e(d.faddQuantity).val():"";a.address=
e(d.faddAddress).val()?e(d.faddAddress).val():"";b=e(d.faddZipcode).val()?e(d.faddZipcode).val():"";a.asin=e(d.faddAsin).val()?e(d.faddAsin).val():"";a.sku=e(d.faddSku).val()?e(d.faddSku).val():"";a.isAFN=e(d.faddIsAFN).val()?e(d.faddIsAFN).val():"";a.fmid=e(d.faddFmid).val()?e(d.faddFmid).val():"";a.address||(a.zipcode=b);g.getSlotArgs=a;a=e.extend(!0,{},a);a.shipoption=e(d.faddSecondaryShipOption).val()?e(d.faddSecondaryShipOption).val():"";g.getSecondarySlotArgs=a;g.zipCode=b;return g};f.isValueTrue=
function(a){return a&&"function"===typeof a.toLowerCase?"true"===a.toLowerCase():!1};f.getMonthNames=function(){for(var a=[],b=0;b<d.faddMonthNames.length;b++)a.push(e(d.faddMonthNames[b]).val()?e(d.faddMonthNames[b]).val():k.MONTHNAMES[b]);return a};f.getDayNames=function(){for(var a=[],b=0;b<d.faddDayNames.length;b++)a.push(e(d.faddDayNames[b]).val()?e(d.faddDayNames[b]).val():k.DAYNAMES[b]);return a};f.convertSlotMapToArray=function(a){var b=[];l.each(a,function(a,d){b.push(a)});return b};f.areSlotsAvailable=
function(a){return 1<=a.length};f.getEarliestAndCheapestSlotsMap=function(a){var b={};b.Cheapest=a[0];b.Earliest=a[0];for(var d=a.length,c=1;c<d;c++){if(b.Cheapest.cost>a[c].cost||a[c].cost===b.Cheapest.cost&&b.Cheapest.sm>a[c].sm)b.Cheapest=a[c];b.Earliest.sm>a[c].sm&&(b.Earliest=a[c])}return b};f.setFTPromise=function(a,b){var f;if(e(d.faddPromiseLogMap).val()){f=l.parseJSON(e(d.faddPromiseLogMap).val());var g=a.Earliest;if(a=a.Cheapest)f[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_METHOD]=b,f[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_EARLIEST_PROMISE_INSEC]=
a.sm,f[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_LATEST_PROMISE_INSEC]=a.em;g&&(f[c.promiseConstants.LOG_KEY_DDM_FASTEST_METHOD]=b,f[c.promiseConstants.LOG_KEY_DDM_FASTEST_EARLIEST_PROMISE_INSEC]=g.sm,f[c.promiseConstants.LOG_KEY_DDM_FASTEST_LATEST_PROMISE_INSEC]=g.em,f[c.promiseConstants.LOG_KEY_PROMISE_DELIVERY_DATE]=g.sm,"scheduled-delivery-in"===b?(f[c.promiseConstants.LOG_KEY_FAST_TRACKABLE]=c.promiseConstants.LOG_VALUE_YES_FLAG,f[c.promiseConstants.LOG_KEY_NOT_FASTTRACKABLE_REASONCODE]="FAST_TRACK"):
"scheduled-delivery-in-prepaid"===b&&(f[c.promiseConstants.LOG_KEY_FAST_TRACKABLE]=c.promiseConstants.LOG_VALUE_NO_FLAG,f[c.promiseConstants.LOG_KEY_NOT_FASTTRACKABLE_REASONCODE]="NO_VALID_DELIVERY_OPTIONS"))}return f};f.logFTPromise=function(a){var b=[];a&&(a.asin&&(b.push("asin\x3d"+a.asin),b.push("pageTypeId\x3d"+a.asin)),a[c.promiseConstants.LOG_KEY_FAST_TRACKABLE]&&b.push("fastTrackable\x3d"+a[c.promiseConstants.LOG_KEY_FAST_TRACKABLE]),a[c.promiseConstants.LOG_KEY_DDM_CITY]&&b.push("ddmCity\x3d"+
a[c.promiseConstants.LOG_KEY_DDM_CITY]),a[c.promiseConstants.LOG_KEY_DDM_DISTRICT]&&b.push("ddmDistrict\x3d"+a[c.promiseConstants.LOG_KEY_DDM_DISTRICT]),a[c.promiseConstants.LOG_KEY_DDM_SUPPRESS_PAID]&&b.push("ddmSuppressPaid\x3d"+a[c.promiseConstants.LOG_KEY_DDM_SUPPRESS_PAID]),a[c.promiseConstants.LOG_KEY_DDM_ADDRESS_SOURCE]&&b.push("ddmAddressSource\x3d"+a[c.promiseConstants.LOG_KEY_DDM_ADDRESS_SOURCE]),a[c.promiseConstants.LOG_KEY_DDM_SHIPMETHOD_CNT]&&b.push("ddmShipMethodCount\x3d"+a[c.promiseConstants.LOG_KEY_DDM_SHIPMETHOD_CNT]),
a[c.promiseConstants.LOG_KEY_DDM_FASTEST_METHOD]&&b.push("ddmFastestMethod\x3d"+a[c.promiseConstants.LOG_KEY_DDM_FASTEST_METHOD]),a[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_METHOD]&&b.push("ddmCheapestMethod\x3d"+a[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_METHOD]),a[c.promiseConstants.LOG_KEY_DDM_COUNTRY]&&b.push("ddmCountry\x3d"+a[c.promiseConstants.LOG_KEY_DDM_COUNTRY]),a[c.promiseConstants.LOG_KEY_DDM_STATE]&&b.push("ddmState\x3d"+a[c.promiseConstants.LOG_KEY_DDM_STATE]),a[c.promiseConstants.LOG_KEY_DDM_POSTAL_CODE]&&
b.push("ddmPostalCode\x3d"+a[c.promiseConstants.LOG_KEY_DDM_POSTAL_CODE]),a[c.promiseConstants.LOG_KEY_DDM_FASTEST_EARLIEST_PROMISE_INSEC]&&b.push("ddmFastestEarliestPromise\x3d"+a[c.promiseConstants.LOG_KEY_DDM_FASTEST_EARLIEST_PROMISE_INSEC]),a[c.promiseConstants.LOG_KEY_DDM_FASTEST_LATEST_PROMISE_INSEC]&&b.push("ddmFastestLatestPromise\x3d"+a[c.promiseConstants.LOG_KEY_DDM_FASTEST_LATEST_PROMISE_INSEC]),a[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_EARLIEST_PROMISE_INSEC]&&b.push("ddmCheapestEarliestPromise\x3d"+
a[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_EARLIEST_PROMISE_INSEC]),a[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_LATEST_PROMISE_INSEC]&&b.push("ddmCheapestLatestPromise\x3d"+a[c.promiseConstants.LOG_KEY_DDM_CHEAPEST_LATEST_PROMISE_INSEC]),a[c.promiseConstants.LOG_KEY_PROMISE_DELIVERY_DATE]&&b.push("promiseDeliveryDate\x3d"+a[c.promiseConstants.LOG_KEY_PROMISE_DELIVERY_DATE]),a[c.promiseConstants.LOG_KEY_SAME_DAY_FAST_TRACK]&&b.push("sameDayFastTrack\x3d"+a[c.promiseConstants.LOG_KEY_SAME_DAY_FAST_TRACK]),
a[c.promiseConstants.LOG_KEY_LIST_PRICE]&&b.push("listPrice\x3d"+a[c.promiseConstants.LOG_KEY_LIST_PRICE]),a[c.promiseConstants.LOG_KEY_OUR_PRICE]&&b.push("ourPrice\x3d"+a[c.promiseConstants.LOG_KEY_OUR_PRICE]),a[c.promiseConstants.LOG_KEY_ADDRESS_ID]&&b.push("addressID\x3d"+a[c.promiseConstants.LOG_KEY_ADDRESS_ID]),a[c.promiseConstants.LOG_KEY_MERCHANT_ID]&&b.push("merchantID\x3d"+a[c.promiseConstants.LOG_KEY_MERCHANT_ID]),a[c.promiseConstants.LOG_KEY_IS_FBA]&&b.push("isFBA\x3d"+a[c.promiseConstants.LOG_KEY_IS_FBA]),
a[c.promiseConstants.LOG_KEY_PRIME_ELIGIBLE]&&b.push("isPrime\x3d"+a[c.promiseConstants.LOG_KEY_PRIME_ELIGIBLE]),a[c.promiseConstants.LOG_KEY_NOT_FASTTRACKABLE_REASONCODE]&&b.push("notFTReason\x3d"+a[c.promiseConstants.LOG_KEY_NOT_FASTTRACKABLE_REASONCODE]),a[c.promiseConstants.LOG_KEY_REQUEST_ID]&&b.push("requestID\x3d"+a[c.promiseConstants.LOG_KEY_REQUEST_ID]));e.get("/gp/detailpage/fadd/promise.html?"+b.join("\x26"))};f.areExchangeSlotsAvailable=function(a){if(196===parseInt(e(d.faddGlProductGroupId).val())){for(var b=
0;b<a.length;b++)if(a[b].service&&"R"===a[b].service.toUpperCase())return!0;return!1}return!0};f.successOnAjaxCallToGetSlotsAPI=function(a,b){var c;if(a&&!a.errorMsg&&a.ids){if(a=f.convertSlotMapToArray(a.ids),f.areSlotsAvailable(a)&&(0<e(d.isSlotsAvailable).length&&e(d.isSlotsAvailable).val(f.areExchangeSlotsAvailable(a)?"true":"false"),0<e(d.shipOptionForRenderedSlot).length&&e(d.shipOptionForRenderedSlot).val(b),a=f.getEarliestAndCheapestSlotsMap(a),b=f.setFTPromise(a,b),f.logFTPromise(b),b=a.Earliest))c=
new Date(1E3*b.sm),a=f.getMonthNames(),c=f.getDayNames()[c.getDay()]+",\x26nbsp;"+a[c.getMonth()]+"\x26nbsp;"+c.getDate(),c=e("\x3cspan\x3e\x3cstrong\x3e\x26nbsp;"+c+",\x26nbsp;"+b.sut+"\x26nbsp;-\x26nbsp;"+b.eut+". \x3c/strong\x3e\x3c/span\x3e").css("color","#008A00")}else f.logPromiseForOnlySTD();return c};f.logPromiseForOnlySTD=function(){if(e(d.faddPromiseLogMap).val()){var a=l.parseJSON(e(d.faddPromiseLogMap).val());f.logFTPromise(a)}};f.renderStandardDeliveryMessage=function(a){e("#fadd").text(a+
" ").css("font-weight","bold").append("\x3ca href\x3d'"+k.DETAILSLINKMOBILE+"'\x3e"+k.DETAILS+"\x3c/a\x3e")};f.shouldHidePromiseMessage=function(){return f.isValueTrue(e(d.hidePromiseMessage).val())};return f})});"use strict";g.when("A").execute(function(l){g.now().register("metricConstants",function(){return{promiseConstants:{LOG_KEY_DDM_AVAIL_TYPE:"ddm_avail_type",LOG_KEY_DDM_POSTAL_CODE:"ddm_postal_code",LOG_KEY_DDM_STATE:"ddm_state",LOG_KEY_DDM_CITY:"ddm_city",LOG_KEY_DDM_DISTRICT:"ddm_district",
LOG_KEY_DDM_ADDRESS_SOURCE:"ddm_address_source",LOG_KEY_DDM_COUNTRY:"ddm_country",LOG_KEY_DDM_ADDRESS_SELECT_SOURCE:"ddm_address_select_source",LOG_KEY_DDM_SHIPMETHOD_CNT:"ddm_shipmethod_cnt",LOG_KEY_DDM_FASTEST_METHOD:"ddm_fastest_method",LOG_KEY_DDM_FASTEST_EARLIEST_PROMISE_INSEC:"ddm_fastest_earliest_promise_insec",LOG_KEY_DDM_FASTEST_LATEST_PROMISE_INSEC:"ddm_fastest_latest_promise_insec",LOG_KEY_DDM_FASTEST_INTERNAL_SHIPPING_EARLIEST_INSEC:"ddm_fastest_internal_shipping_earliest_insec",LOG_KEY_DDM_FASTEST_INTERNAL_SHIPPING_LATEST_INSEC:"ddm_fastest_internal_shipping_latest_insec",
LOG_KEY_DDM_SUPPRESS_PAID:"ddm_suppress_paid",LOG_KEY_DDM_CHEAPEST_METHOD:"ddm_cheapest_method",LOG_KEY_DDM_CHEAPEST_EARLIEST_PROMISE_INSEC:"ddm_cheapest_earliest_promise_insec",LOG_KEY_DDM_CHEAPEST_LATEST_PROMISE_INSEC:"ddm_cheapest_latest_promise_insec",LOG_KEY_DDM_CHEAPEST_INTERNAL_SHIPPING_EARLIEST_INSEC:"ddm_cheapest_internal_shipping_earliest_insec",LOG_KEY_DDM_CHEAPEST_INTERNAL_SHIPPING_LATEST_INSEC:"ddm_cheapest_internal_shipping_latest_insec",LOG_KEY_NOT_FASTTRACKABLE_REASONCODE:"notFastTrackableReasonCode",
LOG_KEY_FAST_TRACKABLE:"fast-trackable",LOG_KEY_REQUEST_ID:"requestID",LOG_KEY_DDM_CUTOFF:"ddm_cutoff",LOG_KEY_FAST_TRACK_TIME:"fast-track-time",LOG_KEY_PROMISE_DELIVERY_DATE:"promise-delivery-date",LOG_KEY_SAME_DAY_FAST_TRACK:"same-day-fast-track",LOG_KEY_LIST_PRICE:"list-price",LOG_KEY_IS_FBA:"is-fba",LOG_KEY_PRIME_ELIGIBLE:"is-prime-eligible-item",LOG_KEY_MERCHANT_ID:"merchant-id",LOG_KEY_OUR_PRICE:"our-price",LOG_KEY_ADDRESS_ID:"addressId",LOG_KEY_IS_RDD:"is-rdd",LOG_VALUE_YES_FLAG:"Y",LOG_VALUE_NO_FLAG:"N",
LOG_VALUE_NA:"NA"}}})});"use strict";g.when("A").execute(function(l){g.now().register("domConstants",function(){return{faddIsSDAvailable:"#faddIsSDAvailable",faddIsSecondarySDAvailable:"#faddIsSecondarySDAvailable",faddScheduledDeliveryMessage:"#faddScheduledDeliveryMessage",faddScheduledDeliveryCheckoutMessage:"#faddScheduledDeliveryCheckoutMessage",faddShippingOrientedPromiseMessage:"#faddShippingOrientedPromiseMessage",faddMarketplace:"#faddMarketplace",faddShipOption:"#faddShipOption",faddSecondaryShipOption:"#faddSecondaryShipOption",
faddMerchant:"#faddMerchant",faddOfferListingID:"#faddOfferListingID",faddQuantity:"#faddQuantity",faddAddress:"#faddAddress",faddZipcode:"#faddZipcode",faddAsin:"#faddAsin",faddSku:"#faddSku",faddIsAFN:"#faddIsAFN",faddFmid:"#faddFmid",isSlotsAvailable:"#isSlotsAvailable",shipOptionForRenderedSlot:"#shipOptionForRenderedSlot",hidePromiseMessage:"#hidePromiseMessage",faddMonthNames:"#faddJanuaryString #faddFebruaryString #faddMarchString #faddAprilString #faddMayString #faddJuneString #faddJulyString #faddAugustString #faddSeptemberString #faddOctoberString #faddNovemberString #faddDecemberString".split(" "),
faddDayNames:"#faddSundayString #faddMondayString #faddTuesdayString #faddWednesdayString #faddThursdayString #faddFridayString #faddSaturdayString".split(" "),faddPromiseLogMap:"#faddPromiseLogMap",faddStandardDeliveryMessage:"#faddStandardDeliveryMessage",faddCityName:"#faddCityName",faddIsSTDAvailable:"#faddIsSTDAvailable",faddDetails:"#faddDetailsString",faddStandardDeliveryINActualPromiseMsg:"#faddStandardDeliveryINActualPromiseMsg",faddGlProductGroupId:"#faddGlProductGroupId",faddLanguage:"#faddLanguage"}})});
"use strict";g.when("A").register("faddWeblabConstants",function(){return{WEBLAB_TREATMENT_T1:"T1"}});g.when("A","postMetric").register("faddWeblabUtil",function(g,k){return{triggerWeblabAndCallback:function(c,d,e){d&&e&&g.$.post("/gp/detailpage/hardlines-util/get-treatment-and-record-weblabs.html",e,function(e){c(e,d)}).fail(function(c,d,a){k.postCountMetric("FADDWeblabTriggerFailed-"+d)})}}})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,e=d?d("DetailPageInEmiAssets@emi_web","DetailPageINEmi"):c;e.guardFatal?e.guardFatal(b)(e,window):e.execute(function(){b(e,window)})})(function(b,c,d){b.when("a-switch","A","postMetric","ready").execute("emi-popover",function(e,f,b){var a=f.$,c=!1;f.on("a:switch:creditToggleSwitch:on",function(d){a(".inemi-credit-nce-not-available").css("display","none");a(".inemi-standard-plans-credit").css("display","none");a(".inemi-credit-standard-plans-table-title").css("display",
"none");a(".inemi-nce-not-available-note-credit-emi")&&a(".inemi-nce-not-available-note-credit-emi").css("display","inherit");b.postCountMetric("inemiCreditToggleSwitchClicksDesktop");c||(b.postCountMetric("inemiCreditSwitchToggledEventPerPageDesktop"),c=!0)});f.on("a:switch:creditToggleSwitch:off",function(b){a(".inemi-credit-nce-not-available").css("display","block");a(".inemi-standard-plans-credit").css("display","table");a(".inemi-credit-standard-plans-table-title").css("display","inherit");a(".inemi-nce-not-available-note-credit-emi")&&
a(".inemi-nce-not-available-note-credit-emi").css("display","none")});var d=!1;f.on("a:switch:debitToggleSwitch:on",function(c){a(".inemi-debit-nce-not-available").css("display","none");a(".inemi-standard-plans-debit").css("display","none");a(".inemi-debit-standard-plans-table-title").css("display","none");a(".inemi-nce-not-available-note-debit-emi")&&a(".inemi-nce-not-available-note-debit-emi").css("display","inherit");b.postCountMetric("inemiDebitToggleSwitchClicksDesktop");d||(b.postCountMetric("inemiDebitSwitchToggledEventPerPageDesktop"),
d=!0)});f.on("a:switch:debitToggleSwitch:off",function(b){a(".inemi-debit-nce-not-available").css("display","block");a(".inemi-standard-plans-debit").css("display","table");a(".inemi-debit-standard-plans-table-title").css("display","inherit");a(".inemi-nce-not-available-note-debit-emi")&&a(".inemi-nce-not-available-note-debit-emi").css("display","none")})})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,a=e?e("DetailPageInEmiAssets@emi_ajax","DetailPageINEmi"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,e){b.when("A","postMetric","atf","inemiDesktopFeatureTabMetrics","a-popover").register("emi-ajax-auto-po-loader",function(a,f,b,c){var g={ajaxCall:function(g,d,b){"function"==typeof ues&&ues("t0","inemiDesktopSecondaryPage",new Date);a.ajax(g,{method:"get",params:d,accepts:"text/html; charset\x3dutf-8",
success:function(a){a&&("function"==typeof uet&&uet("atf","inemiDesktopSecondaryPage",{wb:1}),b.html(a),"function"==typeof uet&&uet("cf","inemiDesktopSecondaryPage"),c.addCountMetrics(),"function"==typeof uex&&uex("ld","inemiDesktopSecondaryPage"));f.postCountMetric("emiAjaxOnATFPOSuccess");document.getElementById("inemi_options_declarative").classList.add("inemi-options-activate-popover");document.getElementById("trigger_emioptions").classList.remove("inemi-options-button-not-loaded")},failure:function(){f.postCountMetric("emiAjaxOnATFPOFailure")}})},
loadEMIPopOver:function(){var b=a.$("#emiPopOverHolderDiv"),d=a.$("#emiAsinField"),f=a.$("#emiMerchantIdField");if(0===b.length||0===d.length)return 0;d={asin:d.val(),showFeatures:"inEmiPopOver-fetch,inemi",deviceType:"desktop"};0!==f.length&&(d.merchantId=f.val());g.ajaxCall("/gp/product/features/dpx-ajax-feature-loader.html",d,b)}};a.on("a:pageUpdate",function(){g.loadEMIPopOver()});g.loadEMIPopOver()});"use strict";b.when("A","postMetric").register("inemiDesktopMetrics",function(a,b){(function(){var a=
document.getElementById("trigger_emioptions");a&&a.addEventListener("mouseover",function(){b.postCountMetric("inemiDesktopFeatureOpened")})})()});"use strict";b.when("A","postMetric").register("inemiDesktopFeatureTabMetrics",function(a,b){function c(){var a=document.getElementById("inemi-amazon-pay-emi-tab"),e=document.getElementById("inemi-debit-emi-tab"),d=document.getElementById("inemi-credit-emi-tab");a&&(a.addEventListener("click",function(){b.postCountMetric("inemiAmazonPayDesktopTabClicks")}),
e.addEventListener("click",function(){b.postCountMetric("inemiDebitEmiDesktopTabClicks")}),d.addEventListener("click",function(){b.postCountMetric("inemiCreditEmiDesktopTabClicks")}))}function e(){var a=document.getElementsByClassName("inemi-bank-expander");if(a)for(var c=0;c<a.length;c++)a[c].addEventListener("click",function(a){b.postCountMetric(a.currentTarget.id)})}return{addCountMetricsForEmiTabs:c,addCountMetricsForBankExpanders:e,addCountMetrics:function(){c();e()}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageInstallmentCalculatorAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(d){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,a=g?g("DetailPagePrelaunchAssets",""):f;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,f,g){d.when("A").register("nlx-notify-me-utils",function(a){function d(){function a(c){return(10>c?"0":"")+c}var e=new Date;return e.getUTCFullYear().toString().substr(2)+a(e.getUTCMonth()+1)+a(e.getUTCDate())+a(e.getUTCHours())}function g(a){h.get("/gp/product/ajax-handlers/reftag.html/ref\x3d"+
a)}function n(a){var e="",c;for(c in a)""!==e&&(e+="\x26"),e+=c+"\x3d"+encodeURIComponent(a[c]);return e}function k(m){var e=0===h("html.a-mobile").length?!1:!0,c=h(m.target),b=c.data(),k=b.signedIn,r=b.refMarker,t=b.subscribeText,u=b.unsubscribeText,p=b.notifyUri,q=b.action,l;a:switch(b.source){case "DETAIL":l="d";break a;default:l="s"}var b={topics:b.topic,channels:b.channel,csrfToken:b.token,entityID:b.entityId,entityType:b.entityType,action:b.action,source:b.source,shouldSendConfirmationEmail:b.sendConfirmationEmail},
v=c.text();m.preventDefault();!0!==k?f.location.href=p+"?"+n(b)+"\x26redirectUrl\x3d"+encodeURIComponent("/preferences/subscriptions/your-subscriptions/current-subscriptions?noMoaR\x3d1"):(c.html('\x3cspan class\x3d"a-spinner a-spinner-small"\x3e\x3c/span\x3e'),a.ajax(p,{params:b,method:"post",success:function(){var a,b;switch(q){case "sub":a="unsub";b=u;break;default:a="sub",b=t}c.text(b);c.data("action",a);a=l;b="sub"===q?"n":"u";var f=d();g(r+"_"+a+"_"+(e?"m":"d")+"_"+f+"_"+b)},error:function(){c.text(v)}}))}
var h=a.$;return{generateQueryString:n,registerRefMarker:g,getButtonClickHandler:function(){return k}}});"use strict";d.when("A","nlx-notify-me-utils").register("nlx-dp-notify-me-component",function(a,d){a=a.$;d=d.getButtonClickHandler();a(document).delegate(".nlx-dp-notify-me","click",d)})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPagePurchaseReminderAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var e=window.AmazonUIPageJS||window.P,m=e._namespace||e.attributeErrors,a=m?m("DetailPageSOPPAssets@common","DetailPageSOPP"):e;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,e,m){e={soppAUIState:"sopp-page-state-cache",soppState:"sopp-page-state",aokHidden:"aok-hidden",bottomSheetHeightEstimator:"sopp-bottom-sheet-content-height-estimator",soppFeatureId:"sopp_feature_div",soppFeatureContainer:"sopp-ingress-wrapper"};c.declare("A2IDPXSOPPConstant",
e);"use strict";e={aui:{beforeShow:"a:sheet:beforeShow:",afterShow:"a:sheet:afterShow:",beforeHide:"a:sheet:beforeHide:",afterHide:"a:sheet:afterHide:",pageUpdate:"a:pageUpdate",orientationChange:"orientationchange",afterLoad:"afterLoad"},sopp:{pageUpdate:"a2i_dpx:sopp:pageUpdate",openOfferSelectionBottomSheet:"a2i_dpx:sopp:openOfferSelectionBottomSheet",promotionDetail:"a:expander:promotionDetail:toggle:expand",changeBottomsheetContent:"a2i_dpx:sopp:changeBottomsheetContent",templatesDownloaded:"a2i_dpx:sopp:templatesDownloaded",
exchangeCheckboxToggle:"a2i_dpx:sopp:buybackCheckbox",exchangeFlowCompletion:"a2idpx:sopp:buyback-offer-selected",bottomSheet:{beforeShow:"a:sheet:beforeShow:a2i-dpx-sopp-bottom-sheet",afterShow:"a:sheet:afterShow:a2i-dpx-sopp-bottom-sheet",beforeHide:"a:sheet:beforeHide:a2i-dpx-sopp-bottom-sheet",afterHide:"a:sheet:afterHide:a2i-dpx-sopp-bottom-sheet"}}};c.declare("A2IDPXSOPPEventConstant",e);c.declare("SOPPMetricConstants",{serverSideMetricsURL:"/gp/product/ajax/dpx-metrics-handler.html/",subPageType:"INAffordability",
refTags:{icartOfferOpen:"sopp_icart_op",icartOfferClose:"sopp_icart_cl",partnerOfferOpen:"sopp_pt_op",partnerOfferClose:"sopp_pt_cl",noCostEMIOfferOpen:"sopp_nce_op",noCostEMIOfferClose:"sopp_nce_cl",cashbackOfferOpen:"sopp_cb_op",cashbackOfferClose:"sopp_cb_cl",bankOfferOpen:"sopp_ibd_op",bankOfferClose:"sopp_ibd_cl",couponOfferOpen:"sopp_coupon_op",couponOfferClose:"sopp_coupon_cl",cartOfferOpen:"sopp_co_op",cartOfferClose:"sopp_co_cl",hereIsHowExpand:"here_is_how_expand",hereIsHowCollapse:"here_is_how_collapse",
glanceView:"sopp_present"}});"use strict";c.when("A").register("A2IDPXSOPPUtil",function(a){return{idHashConcat:function(a){return"#"+a},classPeriodConcat:function(a){return"."+a},parse:function(a,h){if(h){var k=a;Object.keys(h).forEach(function(a){k=k.replace(new RegExp("(\\${hash-get "+a+"})"),h[a])});return k}}}});"use strict";c.when("3p-promise","A").register("A2IDPXSOPPCouponService",function(a,b){return{redeemCoupon:function(h,k,d){var f=b.state("sopp-page-state"),g="/gp/promotions/vpc?ie\x3dUTF8\x26promoId\x3d".concat(h).concat("\x26source\x3ddp_").concat(k).concat("_").concat(d);
return new a(function(a){b.ajax(g,{method:"GET",success:a,headers:{"anti-csrftoken-a2z":f&&f.couponCSRFToken?f.couponCSRFToken:""}})})},getLoginURL:function(a,b,d){return"/gp/aw/si.html/?ie\x3dUTF8\x26vs\x3d1\x26source\x3ddp_".concat(b).concat("_").concat(d).concat("\x26action\x3dsign-in\x26destinationURL\x3d%2Fgp%2Faw%2Fcoupon%2Fc%2F").concat(a).concat("%3Fredirect%3D1%26redirectASIN%3D").concat(d).concat("26vs%3D1")}}});c.when("A","A2IDPXSOPPUtil","a-truncate").register("A2IDPXSOPPAUITruncateService",
function(a,b,h){function k(a){if(a.length)for(var f=0;f<a.length;f++)h.get(a[f]).update()}return{apply:function(d){d=a.$(b.idHashConcat(d)).find(".a-truncate");k(d)},applyContent:function(a){a=a.find(".a-truncate");k(a)}}});c.when("A","A2IDPXSOPPUtil").register("A2IDPXPageStateParserService",function(a,b){function h(k,d){d='script[data-a-state\x3d"'+JSON.stringify({key:d})+'"]';return a.$(b.idHashConcat(k)).find(d)}return{processState:function(b,d){var f;try{var g=h(b,d),c=g[0];f=g.html();var l=a.parseJSON(f);
a.state(d,l);a.$.data(c,"state_processed",!0);return l}catch(e){console.log(e)}return a.state(d)},isNewState:function(b,d){try{return!a.$.data(h(b,d)[0],"state_processed")}catch(f){console.warn("Unable to determine state status",f)}return!1}}});"use strict";c.when("A","A2IDPXSOPPUtil").register("A2IDPXSOPPHrefSelectionService",function(a,b){function h(b,d){if(0!==b.length)for(var c=0;c<b.length;c++)d.push(a.$(b[c]).click(function(a){a.stopPropagation()}))}function c(a){if(Array.isArray(a))for(;a.length;)a.pop().unbind("click")}
var d={bottomsheetHrefListeners:[]};return{applyBottomSheetHrefSelectionHandlers:function(f){var g=a.$(b.idHashConcat(f)),e=d.bottomsheetHrefListeners,l;try{if(c(e),!(1>g.length)&&g[0]){l=g[0];for(var n=a.$(l).find(".a-truncate-cut"),g=0;g<n.length;g++){var m=a.$(n[g]).find("a");h(m,e)}}}catch(q){console.warn("unable to apply href handlers to bottom-sheet urls in container ".concat(f),q)}},applyBottomSheetHrefSelectionHandlersToContent:function(b){var g=d.bottomsheetHrefListeners,e;try{if(c(g),!(1>
b.length)&&b[0]){e=b[0];var l=a.$(e).find(".a-truncate-cut");for(b=0;b<l.length;b++){var m=a.$(l[b]).find("a");h(m,g)}}}catch(p){console.warn("unable to apply href handlers to bottom-sheet urls in container ".concat(containerId),p)}}}});c.when("3p-promise","A").register("A2IDPXSOPPAjaxService",function(a,b){return{get:function(c){return new a(function(a,d){b.ajax(c,{method:"GET",success:a,error:d})})}}});c.register("A2IDPXSOPPCheckBoxService",function(){return{updateCheckBoxStatus:function(a,b){a.forEach(function(a){a.check(b)})},
enableCheckBoxes:function(a){a.forEach(function(a){a.enable()})},disableCheckBoxes:function(a){a.forEach(function(a){a.disable()})},isCheckboxEnabled:function(a){for(var b=0;b<a.length;b++)if(a[b].isDisabled())return!1;return!0},isChecked:function(a){for(var b=0;b<a.length;b++)if(a[b].isChecked())return!0;return!1}}});(function(){c.register("A2IDPXTouchNotReadyService",function(){return{acknowledgeEvent:function(a){if(a&&a.$event){var b=a.$event.originalEvent;"function"===typeof b.ack&&b.ack(a.$currentTarget[0])}}}})})()});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,b=f?f("DetailPageSOPPAssets@logger","DetailPageSOPP"):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,f){(function(){d.register("A2IDPXClientSideMetricLogger",function(){function b(){a=e.ue}var a;b.prototype.log=function(c){a&&(c?a.count(c,(a.count(c)||0)+1):console.warn("Invalid refTag passed to logger - refTag : "+c))};return b})})();(function(){d.when("A").register("A2IDPXServerSideMetricLogger",
function(b){function a(){}a.prototype.log=function(a){b.get(a)};return a})})();(function(){d.when("A").register("A2IDPXServerSideMetricURLHelper",function(b){return{appendRefTagPlaceHolder:function(a){return a.concat("ref\x3d").concat("${refTag}")},updateRefTagPlaceHolder:function(a,c){return a?a.replace("${refTag}",c):a},appendParams:function(a,c){var d=-1===a.indexOf("?")?!1:!0;b.objectIsEmpty(c)||Object.keys(c).forEach(function(b){d?a=a.concat("\x26").concat(b).concat("\x3d").concat(c[b]):(a=a.concat("?").concat(b).concat("\x3d").concat(c[b]),
d=!0)});return a}}})})();(function(){d.when("A2IDPXClientSideMetricLogger","A2IDPXServerSideMetricLogger","A2IDPXServerSideMetricURLHelper").register("A2IDPXLoggerService",function(b,a,c){var d=new b,e=new a,f=null;return{initialize:function(a,b){f=c.appendParams(c.appendRefTagPlaceHolder(a),b)},logMetric:function(a,b){d.log(a);f&&(a=c.updateRefTagPlaceHolder(f,a),e.log(c.appendParams(a,b)))}}})})()});
/* ******** */
(function(c){var p=window.AmazonUIPageJS||window.P,q=p._namespace||p.attributeErrors,a=q?q("DetailPageSOPPAssets@sopp_web_atf","DetailPageSOPP"):p;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,p,q){c.when("A","SOPPConstants","ready").register("SOPPPageState",function(a,f){return{reloadPageState:function(){var b=f.pageState,d="#"+f.soppFeatureDiv;a.$(d).length&&a.$(d).find("[data-a-state]").length?a.each(a.$(d).find("[data-a-state]"),function(d,e){a.parseJSON(a.$(d).attr("data-a-state")).key===
b&&(d=a.parseJSON(a.$(d).html()))&&a.state.replace(b,d,!0)}):a.state.replace(b,null,!0)}}});(function(){c.when("SOPPMetricConstants","A","ready").register("A2IDPXSOPPonPCMetricConstants",function(a,f){a=f.$.extend({},a);a.refTags=f.$.extend(a.refTags,{expand:"sopp_atf_expand",collapse:"sopp_atf_collapse",buybackClicked:"sopp_buyback_clicked"});a.pageTypeDetail="Detail";return a})})();"use strict";c.declare("SOPPConstants",{soppFeatureDiv:"soppATF_feature_div",soppState:"sopp-page-state",soppAUIState:"sopp-page-state-cache",
refTags:{soppGlanceView:"sopp_present",modalIdNotFound:"sopp-modal-id-not-found"}});"use strict";(function(){c.when("A","A2IDPXSOPPonPCController","SOPPConstants","A2IDPXSOPPEventConstant","A2IDPXSOPPonPCMetricConstants","A2IDPXLoggerService","A2IDPXPageStateParserService","ready").execute("A2IDPXSOPPonPC",function(a,f,b,d,l,e,c){function h(){if(c.isNewState(b.soppFeatureDiv,b.soppState)){var m=c.processState(b.soppFeatureDiv,b.soppState);a.objectIsEmpty(m)||(g&&g.destroy(),g=new f,a.state(b.soppAUIState,
m),a.trigger(d.sopp.pageUpdate),e.initialize(l.serverSideMetricsURL,{pageType:l.pageTypeDetail,subPageType:l.subPageType,pageAsin:m.asin,merchantId:m.merchantId}),e.logMetric(l.refTags.glanceView,{additionalRequestData:m.promotions}))}}var g=null;h();a.on(d.aui.pageUpdate,h)})})();"use strict";(function(){c.when("A","A2IDPXSOPPAUITruncateService","A2IDPXSOPPEventConstant","beforeAfterLoad","ready").execute("A2IDPXSOPPonPCSecondary",function(a,f,b){function d(){f.apply("sopp-primary-ingress")}d();
a.on(b.sopp.pageUpdate,function(){d()})})})();"use strict";(function(){c.when("A","A2IDPXSOPPAUITruncateService","A2IDPXSOPPExpanderComponentHandler","A2IDPXSOPPHereIsHowEventHandler","A2IDPXSOPPonPCSecondaryEventHandler","A2IDPXSOPPPromotionModalHandler","ready").register("A2IDPXSOPPonPCController",function(a,f,b,d,l,e){function c(){this.eventHandlers=[new b,new d,new l,new e]}c.prototype.destroy=function(){this.eventHandlers.forEach(function(a){a.destroy()})};return c})})();"use strict";(function(){c.when("A",
"atf","ready").register("A2IDPXSOPPonPCEventHandler",function(a){function f(){this.events=[]}f.prototype.destroy=function(){a.each(this.events,function(b){a.off(b.event,b.callback)})};return f})})();"use strict";(function(){c.when("A","A2IDPXSOPPonPCEventHandler","A2IDPXSOPPonPCMetricConstants","A2IDPXLoggerService","A2IDPXSOPPAUITruncateService","ready").register("A2IDPXSOPPExpanderComponentHandler",function(a,f,b,d,c){function e(){f.call(this);this.events.push(a.on("a:expander:a2i-dpx-sopp-pc-atf-expander:toggle:expand",
k),a.on("a:expander:a2i-dpx-sopp-pc-atf-expander:toggle:collapse",h))}function k(a){c.apply("sopp-primary-ingress");d.logMetric(b.refTags.expand)}function h(a){d.logMetric(b.refTags.collapse)}e.prototype=Object.create(f.prototype);return e.prototype.constructor=e})})();c.when("A","A2IDPXSOPPonPCEventHandler","A2IDPXSOPPAjaxService","A2IDPXSOPPonPCMetricConstants","A2IDPXLoggerService","ready").register("A2IDPXSOPPHereIsHowEventHandler",function(a,f,b,d,c){function e(){f.call(this);this.events.push(a.on("a:expander:promotionDetail:toggle:expand",
k),a.on("a:expander:promotionDetail:toggle:collapse",h),a.on("a:popover:afterShow:cashback-popover",g),a.on("a:popover:afterShow:coupon-popover",g),a.on("a:popover:afterShow:bank-offer-popover",g),a.on("a:popover:afterShow:seller-promotion-popover",g),a.on("a:popover:afterShow:soppEMI-popover",g))}function k(e){try{var f=e.expander.$expander[0],r=a.$(f).attr("id"),g=a.$(f).attr("data-params").match(/url=(.*)\}/)[1],h=a.$("#promoContentId".concat(r));b.get(g).then(function(a){h.html(a);h.removeClass("empty");
c.logMetric(d.refTags.hereIsHowExpand,{additionalRequestData:r})})}catch(k){console.warn(k,"Unable to obtain expander container")}}function h(b){try{var e=a.$(b.expander.$expander[0]).attr("id");c.logMetric(d.refTags.hereIsHowCollapse,{additionalRequestData:e})}catch(f){console.warn(f,"Unable to obtain expander container")}}function g(b){try{a.$(b.popover.$container.find(".a-popover-inner")).addClass("sopp-modal-height-override")}catch(d){console.warn(d,"Unable to modify height of modal to enable scrolling")}}
e.prototype=Object.create(f.prototype);return e.prototype.constructor=e});(function(){c.when("A","A2IDPXSOPPAjaxService","A2IDPXLoggerService","A2IDPXSOPPonPCMetricConstants","A2IDPXSOPPonPCEventHandler","ready").register("A2IDPXSOPPonPCSecondaryEventHandler",function(a,f,b,d,c){function e(){c.call(this);n={};this.events.push(a.on("a:popover:afterShow",k),a.on("a:popover:afterHide",h))}function k(a){(a=a&&a.popover&&a.popover.name)&&g(a,!0)}function h(a){var b=a&&a.popover&&a.popover.name;b&&g(b,
!1);a=a.popover;!n[a.name]&&m.includes(a.name)&&(n[a.name]=a)}function g(a,c){switch(a){case "soppEMI-popover":c?b.logMetric(d.refTags.noCostEMIOfferOpen):b.logMetric(d.refTags.noCostEMIOfferClose);break;case "cashback-popover":c?b.logMetric(d.refTags.cashbackOfferOpen):b.logMetric(d.refTags.cashbackOfferClose);break;case "bank-offer-popover":c?b.logMetric(d.refTags.bankOfferOpen):b.logMetric(d.refTags.bankOfferClose);break;case "coupon-popover":c?b.logMetric(d.refTags.couponOfferOpen):b.logMetric(d.refTags.couponOfferClose);
break;case "seller-promotion-popover":c?b.logMetric(d.refTags.partnerOfferOpen):b.logMetric(d.refTags.partnerOfferClose)}}var m=["soppEMI-popover","bank-offer-popover","cashback-popover","coupon-popover","seller-promotion-popover"],n=null;e.prototype=Object.create(c.prototype);e.prototype.constructor=e;e.prototype.destroy=function(){try{c.prototype.destroy.call(this),Object.keys(n).forEach(function(a){m.includes(a)&&n[a].getContent().remove()})}catch(a){console.log(a,"unable to destroy secondary view event handler")}};
return e})})();(function(){c.when("A","A2IDPXSOPPModalService","ready").register("A2IDPXSOPPPromotionModalHandler",function(a,c){function b(){a.$("body").delegate(".sopp-promotion-action-button","click",d)}function d(a){c.openModal(a);return!1}b.prototype.destroy=function(){a.$("body").undelegate(".sopp-promotion-action-button","click",d)};return b})})();(function(){c.when("A","A2IDPXLoggerService","SOPPConstants","A2IDPXSOPPUtil","a-modal","ready").register("A2IDPXSOPPModalService",function(a,c,
b,d,l){return{openModal:function(e){a:{var k=null;try{k=e.currentTarget.dataset.promotionmodalid}catch(h){c.logMetric(b.refTags.modalIdNotFound)}finally{e=k;break a}}e&&(e=d.idHashConcat(e),l.get(a.$(e)).show())}}})})()});
/* ******** */
(function(f){var h=window.AmazonUIPageJS||window.P,e=h._namespace||h.attributeErrors,b=e?e("DetailPageSOPPAssets@coupon","DetailPageSOPP"):h;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,h,e){(function(){f.when("A","A2IDPXSOPPCouponBase","A2IDPXSOPPUtil","a-checkbox").register("A2IDPXSOPPCoupon",function(b,a,c,d){function g(){a.call(this)}g.prototype=Object.create(a.prototype);g.prototype.getCheckboxes=function(){var b=[],k=d(c.idHashConcat("sopp-coupon-offer-checkbox"));
0<k.size()&&b.push(k);return b};return g})})();(function(){f.when("A2IDPXSOPPCoupon","A2IDPXSOPPCheckBoxService").register("A2IDPXSOPPRegularCoupon",function(b,a){function c(){b.call(this);a.enableCheckBoxes(this.getCheckboxes())}c.prototype=Object.create(b.prototype);return c.prototype.constructor=c})})();(function(){f.when("A","A2IDPXSOPPUtil","A2IDPXSOPPCouponService","A2IDPXSOPPCheckBoxService","A2IDPXSOPPConstant","SOPPMetricConstants","A2IDPXLoggerService").register("A2IDPXSOPPCouponBase",function(b,
a,c,d,g,f,k){function e(){}function l(){for(var c=b.$(".sopp-coupon-offer-unredeem"),d=b.$(".sopp-coupon-offer-redeem"),a=0,e=c.length;a<e;a++)b.$(c[a]).addClass(g.aokHidden),b.$(d[a]).removeClass(g.aokHidden);k.logMetric(f.refTags.couponRedeemed)}e.prototype.redeemCoupon=function(){var a=b.state(g.soppAUIState);a&&d.isCheckboxEnabled(this.getCheckboxes())&&(a.loggedIn?c.redeemCoupon(a.couponId,a.deviceRef,a.asin).then(l.call(this)):(d.updateCheckBoxStatus(this.getCheckboxes(),!1),h.location=a.signinURL||
c.getLoginURL()))};e.prototype.getCheckboxes=function(){return[]};return e})})();(function(){f.when("A","A2IDPXSOPPCoupon","A2IDPXSOPPCheckBoxService").register("A2IDPXSOPPSOCCoupon",function(b,a,c){function d(){a.call(this);this.eventListeners=f.call(this)}function f(){var a=this;return[b.on(this.getSubscribeAndSaveAccordionEventName(),function(){c.enableCheckBoxes(a.getCheckboxes())}),b.on(this.getOneTimePurchaseAccordionEventName(),function(){c.disableCheckBoxes(a.getCheckboxes())}),b.on(this.getLighteningDealAccordionEventName(),
function(){c.disableCheckBoxes(a.getCheckboxes())})]}function e(b){return"a:accordion:buybox-accordion:"+b+":select"}d.prototype=Object.create(a.prototype);d.constructor=d;d.prototype.getSubscribeAndSaveAccordionEventName=function(){return e("sns-accordion")};d.prototype.getOneTimePurchaseAccordionEventName=function(){return e("onetime-accordion")};d.prototype.getLighteningDealAccordionEventName=function(){return e("gb_ld_buybox")};d.prototype.destroy=function(){b.each(this.eventListeners,function(a){b.off(a.event,
a.callback)})};return d})})();(function(){f.when("A2IDPXSOPPRegularCoupon","A2IDPXSOPPSOCCoupon").register("A2IDPXSOPPCouponFactory",function(b,a){return{getInstance:function(c){switch(c){case "socCoupon":return new a;default:return new b}}}})})()});
/* ******** */
